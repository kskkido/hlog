(()=>{var Hc=Object.create;var Tn=Object.defineProperty;var Cc=Object.getOwnPropertyDescriptor;var Uc=Object.getOwnPropertyNames;var qc=Object.getPrototypeOf,Pc=Object.prototype.hasOwnProperty;var Qt=t=>Tn(t,"__esModule",{value:!0});var kc=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),l=(t,e)=>{Qt(t);for(var r in e)Tn(t,r,{get:e[r],enumerable:!0})},Bc=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Uc(e))!Pc.call(t,n)&&n!=="default"&&Tn(t,n,{get:()=>e[n],enumerable:!(r=Cc(e,n))||r.enumerable});return t},Nc=t=>Bc(Qt(Tn(t!=null?Hc(qc(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var cm=kc((gE,Hn)=>{var zl,Yl,$l,Jl,Xl,Zl,Ql,tm,em,Wn,wi,rm,nm,om,br,im,am,sm,pm,lm,mm,um,fm,Fn;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Hn=="object"&&typeof Hn.exports=="object"?t(r(e,r(Hn.exports))):t(r(e));function r(n,o){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,a){return n[i]=o?o(i,a):a}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])};zl=function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");e(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)},Yl=Object.assign||function(n){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(n[p]=o[p])}return n},$l=function(n,o){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&o.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,a=Object.getOwnPropertySymbols(n);p<a.length;p++)o.indexOf(a[p])<0&&Object.prototype.propertyIsEnumerable.call(n,a[p])&&(i[a[p]]=n[a[p]]);return i},Jl=function(n,o,i,a){var p=arguments.length,m=p<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,i):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(n,o,i,a);else for(var d=n.length-1;d>=0;d--)(c=n[d])&&(m=(p<3?c(m):p>3?c(o,i,m):c(o,i))||m);return p>3&&m&&Object.defineProperty(o,i,m),m},Xl=function(n,o){return function(i,a){o(i,a,n)}},Zl=function(n,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,o)},Ql=function(n,o,i,a){function p(m){return m instanceof i?m:new i(function(c){c(m)})}return new(i||(i=Promise))(function(m,c){function d(T){try{x(a.next(T))}catch(_){c(_)}}function b(T){try{x(a.throw(T))}catch(_){c(_)}}function x(T){T.done?m(T.value):p(T.value).then(d,b)}x((a=a.apply(n,o||[])).next())})},tm=function(n,o){var i={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},a,p,m,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(x){return function(T){return b([x,T])}}function b(x){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,p&&(m=x[0]&2?p.return:x[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,x[1])).done)return m;switch(p=0,m&&(x=[x[0]&2,m.value]),x[0]){case 0:case 1:m=x;break;case 4:return i.label++,{value:x[1],done:!1};case 5:i.label++,p=x[1],x=[0];continue;case 7:x=i.ops.pop(),i.trys.pop();continue;default:if(m=i.trys,!(m=m.length>0&&m[m.length-1])&&(x[0]===6||x[0]===2)){i=0;continue}if(x[0]===3&&(!m||x[1]>m[0]&&x[1]<m[3])){i.label=x[1];break}if(x[0]===6&&i.label<m[1]){i.label=m[1],m=x;break}if(m&&i.label<m[2]){i.label=m[2],i.ops.push(x);break}m[2]&&i.ops.pop(),i.trys.pop();continue}x=o.call(n,i)}catch(T){x=[6,T],p=0}finally{a=m=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},em=function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&Fn(o,n,i)},Fn=Object.create?function(n,o,i,a){a===void 0&&(a=i),Object.defineProperty(n,a,{enumerable:!0,get:function(){return o[i]}})}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]},Wn=function(n){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&n[o],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},wi=function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),p,m=[],c;try{for(;(o===void 0||o-- >0)&&!(p=a.next()).done;)m.push(p.value)}catch(d){c={error:d}}finally{try{p&&!p.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return m},rm=function(){for(var n=[],o=0;o<arguments.length;o++)n=n.concat(wi(arguments[o]));return n},nm=function(){for(var n=0,o=0,i=arguments.length;o<i;o++)n+=arguments[o].length;for(var a=Array(n),p=0,o=0;o<i;o++)for(var m=arguments[o],c=0,d=m.length;c<d;c++,p++)a[p]=m[c];return a},om=function(n,o,i){if(i||arguments.length===2)for(var a=0,p=o.length,m;a<p;a++)(m||!(a in o))&&(m||(m=Array.prototype.slice.call(o,0,a)),m[a]=o[a]);return n.concat(m||Array.prototype.slice.call(o))},br=function(n){return this instanceof br?(this.v=n,this):new br(n)},im=function(n,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(n,o||[]),p,m=[];return p={},c("next"),c("throw"),c("return"),p[Symbol.asyncIterator]=function(){return this},p;function c(O){a[O]&&(p[O]=function(D){return new Promise(function(bt,Tt){m.push([O,D,bt,Tt])>1||d(O,D)})})}function d(O,D){try{b(a[O](D))}catch(bt){_(m[0][3],bt)}}function b(O){O.value instanceof br?Promise.resolve(O.value.v).then(x,T):_(m[0][2],O)}function x(O){d("next",O)}function T(O){d("throw",O)}function _(O,D){O(D),m.shift(),m.length&&d(m[0][0],m[0][1])}},am=function(n){var o,i;return o={},a("next"),a("throw",function(p){throw p}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(p,m){o[p]=n[p]?function(c){return(i=!i)?{value:br(n[p](c)),done:p==="return"}:m?m(c):c}:m}},sm=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n[Symbol.asyncIterator],i;return o?o.call(n):(n=typeof Wn=="function"?Wn(n):n[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(m){i[m]=n[m]&&function(c){return new Promise(function(d,b){c=n[m](c),p(d,b,c.done,c.value)})}}function p(m,c,d,b){Promise.resolve(b).then(function(x){m({value:x,done:d})},c)}},pm=function(n,o){return Object.defineProperty?Object.defineProperty(n,"raw",{value:o}):n.raw=o,n};var r=Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o};lm=function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var i in n)i!=="default"&&Object.prototype.hasOwnProperty.call(n,i)&&Fn(o,n,i);return r(o,n),o},mm=function(n){return n&&n.__esModule?n:{default:n}},um=function(n,o,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?n!==o||!a:!o.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(n):a?a.value:o.get(n)},fm=function(n,o,i,a,p){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?n!==o||!p:!o.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?p.call(n,i):p?p.value=i:o.set(n,i),i},t("__extends",zl),t("__assign",Yl),t("__rest",$l),t("__decorate",Jl),t("__param",Xl),t("__metadata",Zl),t("__awaiter",Ql),t("__generator",tm),t("__exportStar",em),t("__createBinding",Fn),t("__values",Wn),t("__read",wi),t("__spread",rm),t("__spreadArrays",nm),t("__spreadArray",om),t("__await",br),t("__asyncGenerator",im),t("__asyncDelegator",am),t("__asyncValues",sm),t("__makeTemplateObject",pm),t("__importStar",lm),t("__importDefault",mm),t("__classPrivateFieldGet",um),t("__classPrivateFieldSet",fm)})});var Il=function(t){return function(e){return e(t)}};function z(t){return t}function j(t){return function(){return t}}var Ll=j(null);function X(t,e,r,n,o,i,a,p,m){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return r(e(t.apply(this,arguments)))};case 4:return function(){return n(r(e(t.apply(this,arguments))))};case 5:return function(){return o(n(r(e(t.apply(this,arguments)))))};case 6:return function(){return i(o(n(r(e(t.apply(this,arguments))))))};case 7:return function(){return a(i(o(n(r(e(t.apply(this,arguments)))))))};case 8:return function(){return p(a(i(o(n(r(e(t.apply(this,arguments))))))))};case 9:return function(){return m(p(a(i(o(n(r(e(t.apply(this,arguments)))))))))}}}function s(t,e,r,n,o,i,a,p,m){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return r(e(t));case 4:return n(r(e(t)));case 5:return o(n(r(e(t))));case 6:return i(o(n(r(e(t)))));case 7:return a(i(o(n(r(e(t))))));case 8:return p(a(i(o(n(r(e(t)))))));case 9:return m(p(a(i(o(n(r(e(t))))))));default:for(var c=arguments[0],d=1;d<arguments.length;d++)c=arguments[d](c);return c}}function Oi(t){return function(e){return function(r){return t.ap(t.map(r,function(){return function(n){return n}}),e)}}}function Sn(t){return function(e,r){return function(n){return t.ap(t.map(n,function(o){return function(i){var a;return Object.assign({},o,(a={},a[e]=i,a))}}),r)}}}function Wl(t){return function(e){return function(r){return t.chain(r,function(n){return t.map(e(n),function(){return n})})}}}var Ri=function(t){return t._tag==="None"},jn=function(t){return t._tag==="Some"},fe={_tag:"None"},ce=function(t){return{_tag:"Some",value:t}},wn=function(t){return t._tag==="Left"};var Ei=function(t){return{_tag:"Left",left:t}},Ti=function(t){return{_tag:"Right",right:t}},Fl=function(t){return[t]},Ce=function(t){return t.length>0},Ue=function(t){return t[0]},Hl=function(t){return t.slice(1)},qe=[],de={},Mn=Object.prototype.hasOwnProperty;function Cl(t){return function(e){return X(e,t.fromEither)}}var At=function(t){return{equals:function(e,r){return e===r||t(e,r)}}};var Si={equals:function(t,e){return t===e}};var ZR=Si.equals;var Dc=function(t){return function(e,r){return e===r||t(e,r)===0}},St=function(t){return{equals:Dc(t),compare:function(e,r){return e===r?0:t(e,r)}}};var xr=function(t){return St(function(e,r){return t.compare(r,e)})};function Vc(t,e){return t<e?-1:t>e?1:0}var eE={equals:Si.equals,compare:Vc};var Gc=function(t){return{concat:function(){return t}}};var _n=function(){return{concat:function(t,e){return e}}};var nE=Gc(void 0);var Ul=function(t,e){return{left:t,right:e}};function ql(t,e){return function(r){return r?e.of(void 0):t.zero()}}var Ot=fe,ye=ce;function In(t){return function(e){return t(e)?ye(e):Ot}}var Yc=function(t){return t._tag==="Left"?Ot:ye(t.right)},Pl=function(t,e){return s(t,mt(e))},kl=function(t,e){return s(t,Xc(e))},$c=function(t,e){return s(t,U(e))};var Nr="Option";var mt=function(t){return function(e){return vr(e)?Ot:ye(t(e.value))}};var It=ye,Jc={URI:Nr,of:It},Xc=function(t){return function(e){return vr(e)||vr(t)?Ot:ye(e.value(t.value))}},Bl={URI:Nr,map:Pl,ap:kl};var U=function(t){return function(e){return vr(e)?Ot:t(e.value)}},Zc={URI:Nr,map:Pl,ap:kl,chain:$c};var Qc=function(t){return function(e){return vr(e)?t():e}},te=Qc;var Dr=function(){return Ot},td={URI:Nr,zero:Dr},Nt=ql(td,Jc);var B=Yc,ed={URI:Nr,fromEither:B};var vr=function(t){return t._tag==="None"},rd=function(t,e){return function(r){return vr(r)?t():e(r.value)}};var Nl=rd,ot=Nl;var Ln=Oi(Bl);var ji=Wl(Zc);var K=Cl(ed);var V=function(t){return t==null?Ot:ye(t)};var Dl=function(t){return X(t,V)};var vt=Nl(Ll,z);var hr=It(de);var Rt=Sn(Bl);var nd=function(t,e){return function(){return e(t())}};var od=function(t,e){return function(){return e(t())()}};var Vl=function(t){return function(e){return nd(e,t)}};var Pe=j,Gl=function(t){return function(e){return od(e,t)}};var id=Pe(qe),ad=function(t){return function(e){return function(){for(var r=[t(0,Ue(e))()],n=1;n<e.length;n++)r.push(t(n,e[n])());return r}}},sd=function(t){var e=ad(t);return function(r){return Ce(r)?e(r):id}};var pd=function(t){return sd(function(e,r){return t(r)})},Kl=pd(z);var dm=Nc(cm()),{__extends:ft,__assign:AE,__rest:OE,__decorate:RE,__param:EE,__metadata:TE,__awaiter:ym,__generator:Cn,__exportStar:SE,__createBinding:jE,__values:ke,__read:ut,__spread:wE,__spreadArrays:ME,__spreadArray:yt,__await:Un,__asyncGenerator:xm,__asyncDelegator:_E,__asyncValues:vm,__makeTemplateObject:IE,__importStar:LE,__importDefault:WE,__classPrivateFieldGet:FE,__classPrivateFieldSet:HE}=dm.default;function P(t){return typeof t=="function"}function qn(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Pn=qn(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Be(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Gt=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var p=ke(a),m=p.next();!m.done;m=p.next()){var c=m.value;c.remove(this)}}catch(O){e={error:O}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}else a.remove(this);var d=this.initialTeardown;if(P(d))try{d()}catch(O){i=O instanceof Pn?O.errors:[O]}var b=this._finalizers;if(b){this._finalizers=null;try{for(var x=ke(b),T=x.next();!T.done;T=x.next()){var _=T.value;try{hm(_)}catch(O){i=i??[],O instanceof Pn?i=yt(yt([],ut(i)),ut(O.errors)):i.push(O)}}}catch(O){n={error:O}}finally{try{T&&!T.done&&(o=x.return)&&o.call(x)}finally{if(n)throw n.error}}}if(i)throw new Pn(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)hm(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Be(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Be(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();var Mi=Gt.EMPTY;function kn(t){return t instanceof Gt||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function hm(t){P(t)?t():t.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gr={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=gr.delegate;return(o==null?void 0:o.setTimeout)?o.setTimeout.apply(o,yt([t,e],ut(r))):setTimeout.apply(void 0,yt([t,e],ut(r)))},clearTimeout:function(t){var e=gr.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Bn(t){gr.setTimeout(function(){var e=Dt.onUnhandledError;if(e)e(t);else throw t})}function Ne(){}var bm=function(){return _i("C",void 0,void 0)}();function gm(t){return _i("E",void 0,t)}function Am(t){return _i("N",t,void 0)}function _i(t,e,r){return{kind:t,value:e,error:r}}var De=null;function Ar(t){if(Dt.useDeprecatedSynchronousErrorHandling){var e=!De;if(e&&(De={errorThrown:!1,error:null}),t(),e){var r=De,n=r.errorThrown,o=r.error;if(De=null,n)throw o}}else t()}function Om(t){Dt.useDeprecatedSynchronousErrorHandling&&De&&(De.errorThrown=!0,De.error=t)}var Vr=function(t){ft(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,kn(r)&&r.add(n)):n.destination=fd,n}return e.create=function(r,n,o){return new Or(r,n,o)},e.prototype.next=function(r){this.isStopped?Li(Am(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?Li(gm(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?Li(bm,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Gt);var ld=Function.prototype.bind;function Ii(t,e){return ld.call(t,e)}var md=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){Nn(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){Nn(n)}else Nn(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Nn(r)}},t}(),Or=function(t){ft(e,t);function e(r,n,o){var i=t.call(this)||this,a;if(P(r)||!r)a={next:r??void 0,error:n??void 0,complete:o??void 0};else{var p;i&&Dt.useDeprecatedNextContext?(p=Object.create(r),p.unsubscribe=function(){return i.unsubscribe()},a={next:r.next&&Ii(r.next,p),error:r.error&&Ii(r.error,p),complete:r.complete&&Ii(r.complete,p)}):a=r}return i.destination=new md(a),i}return e}(Vr);function Nn(t){Dt.useDeprecatedSynchronousErrorHandling?Om(t):Bn(t)}function ud(t){throw t}function Li(t,e){var r=Dt.onStoppedNotification;r&&gr.setTimeout(function(){return r(t,e)})}var fd={closed:!0,next:Ne,error:ud,complete:Ne};var Rr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Lt(t){return t}function Rm(t){return t.length===0?Lt:t.length===1?t[0]:function(r){return t.reduce(function(n,o){return o(n)},r)}}var it=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var o=this,i=dd(e)?e:new Or(e,r,n);return Ar(function(){var a=o,p=a.operator,m=a.source;i.add(p?p.call(i,m):m?o._subscribe(i):o._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Em(r),new r(function(o,i){var a=new Or({next:function(p){try{e(p)}catch(m){i(m),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Rr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Rm(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Em(e),new e(function(n,o){var i;r.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function Em(t){var e;return(e=t??Dt.Promise)!==null&&e!==void 0?e:Promise}function cd(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function dd(t){return t&&t instanceof Vr||cd(t)&&kn(t)}function yd(t){return P(t==null?void 0:t.lift)}function $(t){return function(e){if(yd(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,r,n,o){return new Wi(t,e,r,n,o)}var Wi=function(t){ft(e,t);function e(r,n,o,i,a,p){var m=t.call(this,r)||this;return m.onFinalize=a,m.shouldUnsubscribe=p,m._next=n?function(c){try{n(c)}catch(d){r.error(d)}}:t.prototype._next,m._error=i?function(c){try{i(c)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,m._complete=o?function(){try{o()}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,m}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(Vr);var Er={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=Er.delegate;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);var o=e(function(i){r=void 0,t(i)});return new Gt(function(){return r==null?void 0:r(o)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Er.delegate;return((r==null?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,yt([],ut(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Er.delegate;return((r==null?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,yt([],ut(t)))},delegate:void 0};var Tm=qn(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var ee=function(t){ft(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Sm(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Tm},e.prototype.next=function(r){var n=this;Ar(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=ke(n.currentObservers),p=a.next();!p.done;p=a.next()){var m=p.value;m.next(r)}}catch(c){o={error:c}}finally{try{p&&!p.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},e.prototype.error=function(r){var n=this;Ar(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},e.prototype.complete=function(){var r=this;Ar(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,o=this,i=o.hasError,a=o.isStopped,p=o.observers;return i||a?Mi:(this.currentObservers=null,p.push(r),new Gt(function(){n.currentObservers=null,Be(p,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,i=n.thrownError,a=n.isStopped;o?r.error(i):a&&r.complete()},e.prototype.asObservable=function(){var r=new it;return r.source=this,r},e.create=function(r,n){return new Sm(r,n)},e}(it);var Sm=function(t){ft(e,t);function e(r,n){var o=t.call(this)||this;return o.destination=r,o.source=n,o}return e.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},e.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:Mi},e}(ee);var Fi=function(t){ft(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,o=r.thrownError,i=r._value;if(n)throw o;return this._throwIfClosed(),i},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ee);var Gr={now:function(){return(Gr.delegate||Date).now()},delegate:void 0};var jm=function(t){ft(e,t);function e(r,n,o){r===void 0&&(r=1/0),n===void 0&&(n=1/0),o===void 0&&(o=Gr);var i=t.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(r){var n=this,o=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,p=n._timestampProvider,m=n._windowTime;o||(i.push(r),!a&&i.push(p.now()+m)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),o=this,i=o._infiniteTimeWindow,a=o._buffer,p=a.slice(),m=0;m<p.length&&!r.closed;m+=i?1:2)r.next(p[m]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,o=r._timestampProvider,i=r._buffer,a=r._infiniteTimeWindow,p=(a?1:2)*n;if(n<1/0&&p<i.length&&i.splice(0,i.length-p),!a){for(var m=o.now(),c=0,d=1;d<i.length&&i[d]<=m;d+=2)c=d;c&&i.splice(0,c+1)}},e}(ee);var wm=function(t){ft(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},e}(Gt);var Kr={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Kr.delegate;return(o==null?void 0:o.setInterval)?o.setInterval.apply(o,yt([t,e],ut(r))):setInterval.apply(void 0,yt([t,e],ut(r)))},clearInterval:function(t){var e=Kr.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};var Dn=function(t){ft(e,t);function e(r,n){var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},e.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),Kr.setInterval(r.flush.bind(r,this),o)},e.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;Kr.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var o=!1,i;try{this.work(r)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Be(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(wm);var Ve=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Gr.now,t}();var Vn=function(t){ft(e,t);function e(r,n){n===void 0&&(n=Ve.now);var o=t.call(this,r,n)||this;return o.actions=[],o._active=!1,o._scheduled=void 0,o}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},e}(Ve);var Hi=new Vn(Dn),Mm=Hi;var _m=function(t){ft(e,t);function e(r,n){var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return e.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?t.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=Er.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,o);r.actions.some(function(i){return i.id===n})||(Er.cancelAnimationFrame(n),r._scheduled=void 0)},e}(Dn);var Im=function(t){ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var o=this.actions,i;r=r||o.shift();do if(i=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,i){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw i}},e}(Vn);var Ci=new Im(_m);var Gn=new it(function(t){return t.complete()});function Kn(t){return t&&P(t.schedule)}function Ui(t){return t[t.length-1]}function zn(t){return P(Ui(t))?t.pop():void 0}function Kt(t){return Kn(Ui(t))?t.pop():void 0}function Lm(t,e){return typeof Ui(t)=="number"?t.pop():e}var Tr=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Yn(t){return P(t==null?void 0:t.then)}function $n(t){return P(t[Rr])}function Jn(t){return Symbol.asyncIterator&&P(t==null?void 0:t[Symbol.asyncIterator])}function Xn(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function xd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zn=xd();function Qn(t){return P(t==null?void 0:t[Zn])}function to(t){return xm(this,arguments,function(){var r,n,o,i;return Cn(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Un(r.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,Un(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Un(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function eo(t){return P(t==null?void 0:t.getReader)}function ct(t){if(t instanceof it)return t;if(t!=null){if($n(t))return vd(t);if(Tr(t))return hd(t);if(Yn(t))return bd(t);if(Jn(t))return Wm(t);if(Qn(t))return gd(t);if(eo(t))return Ad(t)}throw Xn(t)}function vd(t){return new it(function(e){var r=t[Rr]();if(P(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hd(t){return new it(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function bd(t){return new it(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Bn)})}function gd(t){return new it(function(e){var r,n;try{for(var o=ke(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(p){r={error:p}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()})}function Wm(t){return new it(function(e){Od(t,e).catch(function(r){return e.error(r)})})}function Ad(t){return Wm(to(t))}function Od(t,e){var r,n,o,i;return ym(this,void 0,void 0,function(){var a,p;return Cn(this,function(m){switch(m.label){case 0:m.trys.push([0,5,6,11]),r=vm(t),m.label=1;case 1:return[4,r.next()];case 2:if(n=m.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];m.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return p=m.sent(),o={error:p},[3,11];case 6:return m.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:m.sent(),m.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function jt(t,e,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=e.schedule(function(){r(),o?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!o)return i}function ro(t,e){return e===void 0&&(e=0),$(function(r,n){r.subscribe(Q(n,function(o){return jt(n,t,function(){return n.next(o)},e)},function(){return jt(n,t,function(){return n.complete()},e)},function(o){return jt(n,t,function(){return n.error(o)},e)}))})}function no(t,e){return e===void 0&&(e=0),$(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function Fm(t,e){return ct(t).pipe(no(e),ro(e))}function Hm(t,e){return ct(t).pipe(no(e),ro(e))}function Cm(t,e){return new it(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function Um(t,e){return new it(function(r){var n;return jt(r,e,function(){n=t[Zn](),jt(r,e,function(){var o,i,a;try{o=n.next(),i=o.value,a=o.done}catch(p){r.error(p);return}a?r.complete():r.next(i)},0,!0)}),function(){return P(n==null?void 0:n.return)&&n.return()}})}function oo(t,e){if(!t)throw new Error("Iterable cannot be null");return new it(function(r){jt(r,e,function(){var n=t[Symbol.asyncIterator]();jt(r,e,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function qm(t,e){return oo(to(t),e)}function Pm(t,e){if(t!=null){if($n(t))return Fm(t,e);if(Tr(t))return Cm(t,e);if(Yn(t))return Hm(t,e);if(Jn(t))return oo(t,e);if(Qn(t))return Um(t,e);if(eo(t))return qm(t,e)}throw Xn(t)}function wt(t,e){return e?Pm(t,e):ct(t)}function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kt(t);return wt(t,r)}function km(t){return t instanceof Date&&!isNaN(t)}function f(t,e){return $(function(r,n){var o=0;r.subscribe(Q(n,function(i){n.next(t.call(e,i,o++))}))})}var Rd=Array.isArray;function Ed(t,e){return Rd(e)?t.apply(void 0,yt([],ut(e))):t(e)}function io(t){return f(function(e){return Ed(t,e)})}var Td=Array.isArray,Sd=Object.getPrototypeOf,jd=Object.prototype,wd=Object.keys;function Bm(t){if(t.length===1){var e=t[0];if(Td(e))return{args:e,keys:null};if(Md(e)){var r=wd(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function Md(t){return t&&typeof t=="object"&&Sd(t)===jd}function Nm(t,e){return t.reduce(function(r,n,o){return r[n]=e[o],r},{})}function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kt(t),n=zn(t),o=Bm(t),i=o.args,a=o.keys;if(i.length===0)return wt([],r);var p=new it(_d(i,r,a?function(m){return Nm(a,m)}:Lt));return n?p.pipe(io(n)):p}function _d(t,e,r){return r===void 0&&(r=Lt),function(n){Dm(e,function(){for(var o=t.length,i=new Array(o),a=o,p=o,m=function(d){Dm(e,function(){var b=wt(t[d],e),x=!1;b.subscribe(Q(n,function(T){i[d]=T,x||(x=!0,p--),p||n.next(r(i.slice()))},function(){--a||n.complete()}))},n)},c=0;c<o;c++)m(c)},n)}}function Dm(t,e,r){t?jt(r,t,e):e()}function Vm(t,e,r,n,o,i,a,p){var m=[],c=0,d=0,b=!1,x=function(){b&&!m.length&&!c&&e.complete()},T=function(O){return c<n?_(O):m.push(O)},_=function(O){i&&e.next(O),c++;var D=!1;ct(r(O,d++)).subscribe(Q(e,function(bt){o==null||o(bt),i?T(bt):e.next(bt)},function(){D=!0},void 0,function(){if(D)try{c--;for(var bt=function(){var Tt=m.shift();a?jt(e,a,function(){return _(Tt)}):_(Tt)};m.length&&c<n;)bt();x()}catch(Tt){e.error(Tt)}}))};return t.subscribe(Q(e,T,function(){b=!0,x()})),function(){p==null||p()}}function st(t,e,r){return r===void 0&&(r=1/0),P(e)?st(function(n,o){return f(function(i,a){return e(n,i,o,a)})(ct(t(n,o)))},r):(typeof e=="number"&&(r=e),$(function(n,o){return Vm(n,o,t,r)}))}function ao(t){return t===void 0&&(t=1/0),st(Lt,t)}function Gm(){return ao(1)}function zr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gm()(wt(t,Kt(t)))}var Id=["addListener","removeListener"],Ld=["addEventListener","removeEventListener"],Wd=["on","off"];function at(t,e,r,n){if(P(r)&&(n=r,r=void 0),n)return at(t,e,r).pipe(io(n));var o=ut(Cd(t)?Ld.map(function(p){return function(m){return t[p](e,m,r)}}):Fd(t)?Id.map(Km(t,e)):Hd(t)?Wd.map(Km(t,e)):[],2),i=o[0],a=o[1];if(!i&&Tr(t))return st(function(p){return at(p,e,r)})(ct(t));if(!i)throw new TypeError("Invalid event target");return new it(function(p){var m=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return p.next(1<c.length?c:c[0])};return i(m),function(){return a(m)}})}function Km(t,e){return function(r){return function(n){return t[r](e,n)}}}function Fd(t){return P(t.addListener)&&P(t.removeListener)}function Hd(t){return P(t.on)&&P(t.off)}function Cd(t){return P(t.addEventListener)&&P(t.removeEventListener)}function rt(t,e,r){t===void 0&&(t=0),r===void 0&&(r=Mm);var n=-1;return e!=null&&(Kn(e)?r=e:n=e),new it(function(o){var i=km(t)?+t-r.now():t;i<0&&(i=0);var a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},i)})}function qi(t,e){return t===void 0&&(t=0),e===void 0&&(e=Hi),t<0&&(t=0),rt(t,t,e)}function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kt(t),n=Lm(t,1/0),o=t;return o.length?o.length===1?ct(o[0]):ao(n)(wt(o,r)):Gn}function k(t,e){return $(function(r,n){var o=0;r.subscribe(Q(n,function(i){return t.call(e,i,o++)&&n.next(i)}))})}function zm(t,e,r,n,o){return function(i,a){var p=r,m=e,c=0;i.subscribe(Q(a,function(d){var b=c++;m=p?t(m,d,b):(p=!0,d),n&&a.next(m)},o&&function(){p&&a.next(m),a.complete()}))}}function Yr(t){return t<=0?function(){return Gn}:$(function(e,r){var n=0;e.subscribe(Q(r,function(o){++n<=t&&(r.next(o),t<=n&&r.complete())}))})}function R(t,e){return e===void 0&&(e=Lt),t=t??Ud,$(function(r,n){var o,i=!0;r.subscribe(Q(n,function(a){var p=e(a);(i||!t(o,p))&&(i=!1,o=p,n.next(a))}))})}function Ud(t,e){return t===e}function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return zr(r,L.apply(void 0,yt([],ut(t))))}}function Pi(t,e,r,n){return $(function(o,i){var a;!e||typeof e=="function"?a=e:(r=e.duration,a=e.element,n=e.connector);var p=new Map,m=function(_){p.forEach(_),_(i)},c=function(_){return m(function(O){return O.error(_)})},d=0,b=!1,x=new Wi(i,function(_){try{var O=t(_),D=p.get(O);if(!D){p.set(O,D=n?n():new ee);var bt=T(O,D);if(i.next(bt),r){var Tt=Q(D,function(){D.complete(),Tt==null||Tt.unsubscribe()},void 0,void 0,function(){return p.delete(O)});x.add(ct(r(bt)).subscribe(Tt))}}D.next(a?a(_):_)}catch(He){c(He)}},function(){return m(function(_){return _.complete()})},c,function(){return p.clear()},function(){return b=!0,d===0});o.subscribe(x);function T(_,O){var D=new it(function(bt){d++;var Tt=O.subscribe(bt);return function(){Tt.unsubscribe(),--d==0&&b&&x.unsubscribe()}});return D.key=_,D}})}function Et(t,e){return $(zm(t,e,arguments.length>=2,!0))}function Ke(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new ee}:e,n=t.resetOnError,o=n===void 0?!0:n,i=t.resetOnComplete,a=i===void 0?!0:i,p=t.resetOnRefCountZero,m=p===void 0?!0:p;return function(c){var d=null,b=null,x=null,T=0,_=!1,O=!1,D=function(){b==null||b.unsubscribe(),b=null},bt=function(){D(),d=x=null,_=O=!1},Tt=function(){var He=d;bt(),He==null||He.unsubscribe()};return $(function(He,_l){T++,!O&&!_&&D();var Rn=x=x??r();_l.add(function(){T--,T===0&&!O&&!_&&(b=ki(Tt,m))}),Rn.subscribe(_l),d||(d=new Or({next:function(En){return Rn.next(En)},error:function(En){O=!0,D(),b=ki(bt,o,En),Rn.error(En)},complete:function(){_=!0,D(),b=ki(bt,a),Rn.complete()}}),wt(He).subscribe(d))})(c)}}function ki(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,yt([],ut(r))).pipe(Yr(1)).subscribe(function(){return t()})}function Bi(t,e,r){var n,o,i,a,p=!1;return t&&typeof t=="object"?(n=t.bufferSize,a=n===void 0?1/0:n,o=t.windowTime,e=o===void 0?1/0:o,i=t.refCount,p=i===void 0?!1:i,r=t.scheduler):a=t??1/0,Ke({connector:function(){return new jm(a,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kt(t);return $(function(n,o){(r?zr(t,n,r):zr(t,n)).subscribe(o)})}function Ym(t,e){return $(function(r,n){var o=null,i=0,a=!1,p=function(){return a&&!o&&n.complete()};r.subscribe(Q(n,function(m){o==null||o.unsubscribe();var c=0,d=i++;ct(t(m,d)).subscribe(o=Q(n,function(b){return n.next(e?e(m,b,d,c++):b)},function(){o=null,p()}))},function(){a=!0,p()}))})}function dt(t,e){return $(function(r,n){var o=e;return Ym(function(i,a){return t(o,i,a)},function(i,a){return o=a,a})(r).subscribe(n),function(){o=null}})}function ze(t){return $(function(e,r){ct(t).subscribe(Q(r,function(){return r.complete()},Ne)),!r.closed&&e.subscribe(r)})}function Sr(t,e){return e===void 0&&(e=!1),$(function(r,n){var o=0;r.subscribe(Q(n,function(i){var a=t(i,o++);(a||e)&&n.next(i),!a&&n.complete()}))})}function M(t,e,r){var n=P(t)||e||r?{next:t,error:e,complete:r}:t;return n?$(function(o,i){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var p=!0;o.subscribe(Q(i,function(m){var c;(c=n.next)===null||c===void 0||c.call(n,m),i.next(m)},function(){var m;p=!1,(m=n.complete)===null||m===void 0||m.call(n),i.complete()},function(m){var c;p=!1,(c=n.error)===null||c===void 0||c.call(n,m),i.error(m)},function(){var m,c;p&&((m=n.unsubscribe)===null||m===void 0||m.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Lt}function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=zn(t);return $(function(n,o){for(var i=t.length,a=new Array(i),p=t.map(function(){return!1}),m=!1,c=function(b){ct(t[b]).subscribe(Q(o,function(x){a[b]=x,!m&&!p[b]&&(p[b]=!0,(m=p.every(Lt))&&(p=null))},Ne))},d=0;d<i;d++)c(d);n.subscribe(Q(o,function(b){if(m){var x=yt([b],ut(a));o.next(r?r.apply(void 0,yt([],ut(x))):x)}}))})}var g={};l(g,{between:()=>uu,concat:()=>$i,reverse:()=>Ey,stagger:()=>Ty,types:()=>Yi});var $r={equals:function(t,e){return t===e}},Bd={equals:$r.equals,compare:function(t,e){return t<e?-1:t>e?1:0}},$0={equals:$r.equals,compare:Bd.compare,top:1/0,bottom:-1/0};var Nd={concat:function(t,e){return t-e}},$m={concat:function(t,e){return t+e}},Jm={concat:function(t,e){return t*e}},J0={concat:$m.concat,empty:0},X0={concat:Jm.concat,empty:1},Z0={add:$m.concat,zero:0,mul:Jm.concat,one:1,sub:Nd.concat,degree:function(t){return 1},div:function(t,e){return t/e},mod:function(t,e){return t%e}};var Xm=qe,Zm=Ce;var Qm=Fl;var Dd=Ue;var Ni=Dd,tu=Hl,eu=function(t){return t[t.length-1]},ru=function(t){return t.slice(0,-1)};var Vd=function(t){return t.length===0},Di=Zm;var re=function(t){return Ri(t)?au:[t.value]};var Gd=function(t,e){return function(r){return Di(r)?e(Ni(r),tu(r)):t()}},nu=Gd;var Kd=function(t,e){return function(r){return Di(r)?e(ru(r),eu(r)):t()}},ou=Kd;var zd=function(t){return function(e){if(Vd(e))return au;for(var r=[],n=0;n<e.length;n++)r.push.apply(r,t(n,e[n]));return r}};var pt=function(t){return Di(t)?ce(Ni(t)):fe};function iu(t){return function(e){for(var r=0;r<e.length;r++)if(t(e[r]))return ce(e[r]);return fe}}var Ut=function(t){return t.length<=1?t:t.slice().reverse()};var Ye=function(t){return function(e){return e.length<=1?e:e.slice().sort(t.compare)}};var xe=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return re(t.apply(void 0,e))}};var Yd=function(t,e,r){return s(t,ey(e,r))},$d=function(t){var e=ry(t);return function(r,n){return s(r,e(n))}},Jd=function(t,e,r){return s(t,oy(e,r))};var jr=Qm;var ve=function(t){return function(e){return s(e,zd(function(r,n){return t(n)}))}};var y=function(t){return function(e){return e.map(function(r){return t(r)})}},ht=function(t){return function(e){return e.map(function(r,n){return t(n,r)})}};var ne=function(t){return function(e){return e.filter(t)}},Xd=function(t){return function(e){for(var r=[],n=0;n<e.length;n++){var o=t(n,e[n]);jn(o)&&r.push(o.value)}return r}},Zd=function(t){return Xd(function(e,r){return t(r)})},S=Zd(z),wr=function(t){return Qd(function(e,r){return t(r)})},Qd=function(t){return function(e){for(var r=[],n=[],o=0;o<e.length;o++){var i=e[o];t(o,i)?n.push(i):r.push(i)}return Ul(r,n)}};var ty=function(t){return function(e){return function(r){return r.reduce(function(n,o,i){return t.concat(n,e(i,o))},t.empty)}}},ey=function(t,e){return ny(t,function(r,n,o){return e(n,o)})},ry=function(t){var e=ty(t);return function(r){return e(function(n,o){return r(o)})}},ny=function(t,e){return function(r){for(var n=r.length,o=t,i=0;i<n;i++)o=e(i,o,r[i]);return o}},oy=function(t,e){return iy(t,function(r,n,o){return e(n,o)})},iy=function(t,e){return function(r){return r.reduceRight(function(n,o,i){return e(i,o,n)},t)}};var ay="ReadonlyArray";var so=function(t){return At(function(e,r){return e.length===r.length&&e.every(function(n,o){return t.equals(n,r[o])})})};var po={URI:ay,reduce:Yd,foldMap:$d,reduceRight:Jd};var au=Xm;var H={};l(H,{behavior:()=>Yt,event:()=>Vi,types:()=>zi});var Yt={};l(Yt,{after:()=>yy,apply:()=>Ki,at:()=>he,chain:()=>uy,contramap:()=>my,liftA2:()=>mu,map:()=>lu,pure:()=>Gi,sequence:()=>cy,snapshot:()=>hy,tap:()=>fy,time:()=>xy,transform:()=>vy,until:()=>dy});var Vi={};l(Vi,{duplicate:()=>pu,extend:()=>py,extract:()=>Mr,join:()=>sy,map:()=>su,race:()=>ly,time:()=>zt});var zt=t=>t[0],su=t=>e=>[zt(e),t(Mr(e))],sy=t=>t[1],Mr=t=>t[1],pu=t=>[zt(t),t],py=t=>e=>su(t)(pu(e)),ly=t=>e=>zt(t)<zt(e)?t:e;var he=t=>e=>t(e),Gi=t=>e=>t,lu=t=>e=>r=>t(e(r)),my=t=>e=>r=>e(t(r)),uy=t=>e=>r=>t(e(r))(r),Ki=t=>e=>r=>e(r)(t(r)),mu=t=>e=>r=>s(e,lu(t),Ki(r)),fy=Ki(Gi),cy=t=>t.reduce((e,r)=>mu(n=>o=>[...n,o])(e)(r),Gi([])),dy=t=>e=>r=>r<zt(t)?he(e)(r):he(Mr(t))(r),yy=t=>e=>r=>r>zt(t)?he(e)(r):he(Mr(t))(r),xy=t=>t,vy=t=>e=>r=>he(e)(he(t)(r)),hy=t=>e=>[zt(t),[Mr(t),he(e)(zt(t))]];var zi={};Qt(zi);var lo={};l(lo,{between:()=>gy,distance:()=>Ay});var gy=t=>e=>t[0]<=e&&e<=t[1],Ay=t=>t[1]-t[0];var Yi={};Qt(Yi);var uu=t=>e=>s(e,Yt.contramap(r=>(r-t[0])/lo.distance(t)),Yt.after([t[0],()=>e(0)]),Yt.until([t[1],()=>e(1)])),$i=t=>s(Yt.sequence(t),Yt.map(j(null))),Ey=t=>s(t,Yt.contramap(e=>1-e)),Ty=t=>e=>{if(e.length>1){let r=t/(e.length-1);return s(e,ht((n,o)=>s(o,uu([r*n,r*n+(1-t)]))),$i)}else return $i(e)};var mo={};l(mo,{disable:()=>My});var My=t=>{t.onpageshow=e=>{e.persisted&&t.location.reload()},t.onbeforeunload=()=>{},t.onunload=()=>{}};var ie={};l(ie,{from:()=>Xi,types:()=>ea});var Xi={};l(Xi,{window:()=>Iy});var Iy=t=>s(Dr(),te(()=>s(Nt(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent)),mt(j("mobile")))),te(()=>s(Nt(t.navigator.platform==="MacIntel"&&t.navigator.maxTouchPoints>1),mt(j("mobile")))),ot(j("desktop"),z));var ea={};l(ea,{Device:()=>Ox});var fu=Ei,cu=Ti;var gt=wn;var Ly=function(t,e){return function(r){return gt(r)?t(r.left):e(r.right)}};var Wy=Ly,du=Wy;var et=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_r=function(){return _r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},_r.apply(this,arguments)},Fy=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,p=i.length;a<p;a++,o++)n[o]=i[a];return n},be=fu,lt=function(t,e,r){return be([{value:t,context:e,message:r}])},tt=cu,G=function(){function t(e,r,n,o){this.name=e,this.is=r,this.validate=n,this.encode=o,this.decode=this.decode.bind(this)}return t.prototype.pipe=function(e,r){var n=this;return r===void 0&&(r="pipe("+this.name+", "+e.name+")"),new t(r,e.is,function(o,i){var a=n.validate(o,i);return gt(a)?a:e.validate(a.right,i)},this.encode===J&&e.encode===J?J:function(o){return n.encode(e.encode(o))})},t.prototype.asDecoder=function(){return this},t.prototype.asEncoder=function(){return this},t.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},t}();var J=function(t){return t};function Hy(t){return t.displayName||t.name||"<function"+t.length+">"}function oe(t,e,r,n){for(var o=t.length,i=Array(o+1),a=0;a<o;a++)i[a]=t[a];return i[o]={key:e,type:r,actual:n},i}function ge(t,e){for(var r=e.length,n=0;n<r;n++)t.push(e[n])}var yu=Object.prototype.hasOwnProperty;function Cy(t){return Object.keys(t).map(function(e){return e+": "+t[e].name}).join(", ")}function Jr(t){for(var e=0;e<t.length;e++)if(t[e].encode!==J)return!1;return!0}function xu(t){return"{ "+Cy(t)+" }"}function Uy(t){return"Partial<"+t+">"}function qy(t,e,r,n){n===void 0&&(n="{ [K in "+e.name+"]: "+r.name+" }");var o=t.length;return new Ou(n,function(i){return $t.is(i)&&t.every(function(a){return r.is(i[a])})},function(i,a){var p=$t.validate(i,a);if(gt(p))return p;for(var m=p.right,c={},d=[],b=!1,x=0;x<o;x++){var T=t[x],_=m[T],O=r.validate(_,oe(a,T,r,_));if(gt(O))ge(d,O.left);else{var D=O.right;b=b||D!==_,c[T]=D}}return d.length>0?be(d):tt(b||Object.keys(m).length!==o?c:m)},r.encode===J?J:function(i){for(var a={},p=0;p<o;p++){var m=t[p];a[m]=r.encode(i[m])}return a},e,r)}function vu(t){var e;if(gu(t)){var r=t.value;if(Y.is(r))return e={},e[r]=null,e}else{if(Vy(t))return t.keys;if(Au(t)){var n=t.types.map(function(o){return vu(o)});return n.some(Je.is)?void 0:Object.assign.apply(Object,Fy([{}],n))}}}function Py(t,e,r){return r===void 0&&(r="{ [K in "+t.name+"]: "+e.name+" }"),new Ou(r,function(n){return $t.is(n)?Object.keys(n).every(function(o){return t.is(o)&&e.is(n[o])}):bu(e)&&Array.isArray(n)},function(n,o){if($t.is(n)){for(var i={},a=[],p=Object.keys(n),m=p.length,c=!1,d=0;d<m;d++){var b=p[d],x=n[b],T=t.validate(b,oe(o,b,t,b));if(gt(T))ge(a,T.left);else{var _=T.right;c=c||_!==b,b=_;var O=e.validate(x,oe(o,b,e,x));if(gt(O))ge(a,O.left);else{var D=O.right;c=c||D!==x,i[b]=D}}}return a.length>0?be(a):tt(c?i:n)}return bu(e)&&Array.isArray(n)?tt(n):lt(n,o)},t.encode===J&&e.encode===J?J:function(n){for(var o={},i=Object.keys(n),a=i.length,p=0;p<a;p++){var m=i[p];o[String(t.encode(m))]=e.encode(n[m])}return o},t,e)}function ky(t){return"("+t.map(function(e){return e.name}).join(" | ")+")"}function By(t){return t.length>0}var Wt={};function hu(t,e){for(var r=[],n=0,o=t;n<o.length;n++){var i=o[n];e.indexOf(i)!==-1&&r.push(i)}return r}function Ny(t,e){if(t===Wt)return e;if(e===Wt)return t;var r=Object.assign({},t);for(var n in e)if(t.hasOwnProperty(n)){var o=hu(t[n],e[n]);if(By(o))r[n]=o;else{r=Wt;break}}else r[n]=e[n];return r}function Dy(t,e){if(t===Wt||e===Wt)return Wt;var r=Wt;for(var n in t)if(e.hasOwnProperty(n)){var o=hu(t[n],e[n]);o.length===0&&(r===Wt&&(r={}),r[n]=t[n].concat(e[n]))}return r}function bu(t){return t._tag==="AnyType"}function gu(t){return t._tag==="LiteralType"}function Vy(t){return t._tag==="KeyofType"}function Gy(t){return t._tag==="InterfaceType"}function Ky(t){return t._tag==="StrictType"}function zy(t){return t._tag==="ExactType"}function Yy(t){return t._tag==="RefinementType"}function $y(t){return t._tag==="IntersectionType"}function Au(t){return t._tag==="UnionType"}function Jy(t){return t._tag==="RecursiveType"}var Zi=[];function $e(t){if(Zi.indexOf(t)!==-1)return Wt;if(Gy(t)||Ky(t)){var e=Wt;for(var r in t.props){var n=t.props[r];gu(n)&&(e===Wt&&(e={}),e[r]=[n.value])}return e}else{if(zy(t)||Yy(t))return $e(t.type);if($y(t))return t.types.reduce(function(i,a){return Ny(i,$e(a))},Wt);if(Au(t))return t.types.slice(1).reduce(function(i,a){return Dy(i,$e(a))},$e(t.types[0]));if(Jy(t)){Zi.push(t);var o=$e(t.type);return Zi.pop(),o}}return Wt}function Xy(t){var e=$e(t[0]),r=Object.keys(e),n=t.length,o=function(c){for(var d=e[c].slice(),b=[e[c]],x=1;x<n;x++){var T=t[x],_=$e(T),O=_[c];if(O===void 0)return"continue-keys";if(O.some(function(D){return d.indexOf(D)!==-1}))return"continue-keys";d.push.apply(d,O),b.push(O)}return{value:[c,b]}};t:for(var i=0,a=r;i<a.length;i++){var p=a[i],m=o(p);if(typeof m=="object")return m.value;switch(m){case"continue-keys":continue t}}}var Zy=function(t){et(e,t);function e(){var r=t.call(this,"null",function(n){return n===null},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="NullType",r}return e}(G);var qt=new Zy,Qy=function(t){et(e,t);function e(){var r=t.call(this,"undefined",function(n){return n===void 0},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="UndefinedType",r}return e}(G);var Je=new Qy,tx=function(t){et(e,t);function e(){var r=t.call(this,"void",Je.is,Je.validate,J)||this;return r._tag="VoidType",r}return e}(G);var Qi=new tx,ex=function(t){et(e,t);function e(){var r=t.call(this,"unknown",function(n){return!0},tt,J)||this;return r._tag="UnknownType",r}return e}(G);var uo=new ex,rx=function(t){et(e,t);function e(){var r=t.call(this,"string",function(n){return typeof n=="string"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="StringType",r}return e}(G);var Y=new rx,nx=function(t){et(e,t);function e(){var r=t.call(this,"number",function(n){return typeof n=="number"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="NumberType",r}return e}(G);var I=new nx,ox=function(t){et(e,t);function e(){var r=t.call(this,"bigint",function(n){return typeof n=="bigint"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="BigIntType",r}return e}(G);var B_=new ox,ix=function(t){et(e,t);function e(){var r=t.call(this,"boolean",function(n){return typeof n=="boolean"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="BooleanType",r}return e}(G);var N_=new ix,ax=function(t){et(e,t);function e(){var r=t.call(this,"UnknownArray",Array.isArray,function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="AnyArrayType",r}return e}(G);var fo=new ax,sx=function(t){et(e,t);function e(){var r=t.call(this,"UnknownRecord",function(n){var o=Object.prototype.toString.call(n);return o==="[object Object]"||o==="[object Window]"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="AnyDictionaryType",r}return e}(G);var $t=new sx;var px=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.value=a,p._tag="LiteralType",p}return e}(G);function h(t,e){e===void 0&&(e=JSON.stringify(t));var r=function(n){return n===t};return new px(e,r,function(n,o){return r(n)?tt(t):lt(n,o)},J,t)}var D_=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.keys=a,p._tag="KeyofType",p}return e}(G);var lx=function(t){et(e,t);function e(r,n,o,i,a,p){var m=t.call(this,r,n,o,i)||this;return m.type=a,m.predicate=p,m._tag="RefinementType",m}return e}(G);function mx(t,e,r){return Eu(t,e,r)}var V_=mx(I,function(t){return Number.isInteger(t)},"Int"),ux=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.runDefinition=a,p._tag="RecursiveType",p}return e}(G);Object.defineProperty(ux.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var fx=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.type=a,p._tag="ArrayType",p}return e}(G);function Xr(t,e){return e===void 0&&(e="Array<"+t.name+">"),new fx(e,function(r){return fo.is(r)&&r.every(t.is)},function(r,n){var o=fo.validate(r,n);if(gt(o))return o;for(var i=o.right,a=i.length,p=i,m=[],c=0;c<a;c++){var d=i[c],b=t.validate(d,oe(n,String(c),t,d));if(gt(b))ge(m,b.left);else{var x=b.right;x!==d&&(p===i&&(p=i.slice()),p[c]=x)}}return m.length>0?be(m):tt(p)},t.encode===J?J:function(r){return r.map(t.encode)},t)}var cx=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.props=a,p._tag="InterfaceType",p}return e}(G);function v(t,e){e===void 0&&(e=xu(t));var r=Object.keys(t),n=r.map(function(i){return t[i]}),o=r.length;return new cx(e,function(i){if($t.is(i)){for(var a=0;a<o;a++){var p=r[a],m=i[p];if(m===void 0&&!yu.call(i,p)||!n[a].is(m))return!1}return!0}return!1},function(i,a){var p=$t.validate(i,a);if(gt(p))return p;for(var m=p.right,c=m,d=[],b=0;b<o;b++){var x=r[b],T=c[x],_=n[b],O=_.validate(T,oe(a,x,_,T));if(gt(O))ge(d,O.left);else{var D=O.right;(D!==T||D===void 0&&!yu.call(c,x))&&(c===m&&(c=_r({},m)),c[x]=D)}}return d.length>0?be(d):tt(c)},Jr(n)?J:function(i){for(var a=_r({},i),p=0;p<o;p++){var m=r[p],c=n[p].encode;c!==J&&(a[m]=c(i[m]))}return a},t)}var dx=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.props=a,p._tag="PartialType",p}return e}(G);function co(t,e){e===void 0&&(e=Uy(xu(t)));var r=Object.keys(t),n=r.map(function(i){return t[i]}),o=r.length;return new dx(e,function(i){if($t.is(i)){for(var a=0;a<o;a++){var p=r[a],m=i[p];if(m!==void 0&&!t[p].is(m))return!1}return!0}return!1},function(i,a){var p=$t.validate(i,a);if(gt(p))return p;for(var m=p.right,c=m,d=[],b=0;b<o;b++){var x=r[b],T=c[x],_=t[x],O=_.validate(T,oe(a,x,_,T));if(gt(O))T!==void 0&&ge(d,O.left);else{var D=O.right;D!==T&&(c===m&&(c=_r({},m)),c[x]=D)}}return d.length>0?be(d):tt(c)},Jr(n)?J:function(i){for(var a=_r({},i),p=0;p<o;p++){var m=r[p],c=i[m];c!==void 0&&(a[m]=n[p].encode(c))}return a},t)}var Ou=function(t){et(e,t);function e(r,n,o,i,a,p){var m=t.call(this,r,n,o,i)||this;return m.domain=a,m.codomain=p,m._tag="DictionaryType",m}return e}(G);function Mt(t,e,r){var n=vu(t);return n?qy(Object.keys(n),t,e,r):Py(t,e,r)}var Ru=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.types=a,p._tag="UnionType",p}return e}(G);function w(t,e){e===void 0&&(e=ky(t));var r=Xy(t);if(r!==void 0&&t.length>0){var n=r[0],o=r[1],i=o.length,a=function(p){for(var m=0;m<i;m++)if(o[m].indexOf(p)!==-1)return m};return new hx(e,function(p){if($t.is(p)){var m=a(p[n]);return m!==void 0?t[m].is(p):!1}return!1},function(p,m){var c=$t.validate(p,m);if(gt(c))return c;var d=c.right,b=a(d[n]);if(b===void 0)return lt(p,m);var x=t[b];return x.validate(d,oe(m,String(b),x,d))},Jr(t)?J:function(p){var m=a(p[n]);if(m===void 0)throw new Error("no codec found to encode value in union codec "+e);return t[m].encode(p)},t,n)}else return new Ru(e,function(p){return t.some(function(m){return m.is(p)})},function(p,m){for(var c=[],d=0;d<t.length;d++){var b=t[d],x=b.validate(p,oe(m,String(d),b,p));if(gt(x))ge(c,x.left);else return tt(x.right)}return be(c)},Jr(t)?J:function(p){for(var m=0,c=t;m<c.length;m++){var d=c[m];if(d.is(p))return d.encode(p)}throw new Error("no codec found to encode value in union type "+e)},t)}var G_=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.types=a,p._tag="IntersectionType",p}return e}(G);var yx=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.types=a,p._tag="TupleType",p}return e}(G);function Ae(t,e){e===void 0&&(e="["+t.map(function(n){return n.name}).join(", ")+"]");var r=t.length;return new yx(e,function(n){return fo.is(n)&&n.length===r&&t.every(function(o,i){return o.is(n[i])})},function(n,o){var i=fo.validate(n,o);if(gt(i))return i;for(var a=i.right,p=a.length>r?a.slice(0,r):a,m=[],c=0;c<r;c++){var d=a[c],b=t[c],x=b.validate(d,oe(o,String(c),b,d));if(gt(x))ge(m,x.left);else{var T=x.right;T!==d&&(p===a&&(p=a.slice()),p[c]=T)}}return m.length>0?be(m):tt(p)},Jr(t)?J:function(n){return t.map(function(o,i){return o.encode(n[i])})},t)}var K_=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.type=a,p._tag="ReadonlyType",p}return e}(G);var xx=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.type=a,p._tag="ReadonlyArrayType",p}return e}(G);function ta(t,e){e===void 0&&(e="ReadonlyArray<"+t.name+">");var r=Xr(t);return new xx(e,r.is,r.validate,r.encode,t)}var z_=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.type=a,p._tag="ExactType",p}return e}(G);var vx=function(t){et(e,t);function e(){var r=t.call(this,"Function",function(n){return typeof n=="function"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="FunctionType",r}return e}(G);var Y_=new vx,hx=function(t){et(e,t);function e(r,n,o,i,a,p){var m=t.call(this,r,n,o,i,a)||this;return m.tag=p,m}return e}(Ru);var bx=function(t){et(e,t);function e(){var r=t.call(this,"never",function(n){return!1},function(n,o){return lt(n,o)},function(){throw new Error("cannot encode never")})||this;return r._tag="NeverType",r}return e}(G);var $_=new bx,gx=function(t){et(e,t);function e(){var r=t.call(this,"any",function(n){return!0},tt,J)||this;return r._tag="AnyType",r}return e}(G);var J_=new gx;var Ax=function(t){et(e,t);function e(){var r=t.call(this,"object",function(n){return n!==null&&typeof n=="object"},function(n,o){return r.is(n)?tt(n):lt(n,o)},J)||this;return r._tag="ObjectType",r}return e}(G);var X_=new Ax;function Eu(t,e,r){return r===void 0&&(r="("+t.name+" | "+Hy(e)+")"),new lx(r,function(n){return t.is(n)&&e(n)},function(n,o){var i=t.validate(n,o);if(gt(i))return i;var a=i.right;return e(a)?tt(a):lt(a,o)},t.encode,t,e)}var Z_=Eu(I,Number.isInteger,"Integer");var Q_=function(t){et(e,t);function e(r,n,o,i,a){var p=t.call(this,r,n,o,i)||this;return p.props=a,p._tag="StrictType",p}return e}(G);var Ox=w([h("desktop"),h("mobile")]);var u={};l(u,{from:()=>ra,lib:()=>ia,order:()=>aa,to:()=>la,types:()=>sa});var ra={};l(ra,{string:()=>Rx,unknown:()=>Ex});var Rx=t=>s(It(new DOMParser().parseFromString(t,"text/html")),U(e=>s(Nt(!e.querySelector("parsererror")),Ln(V(e.body.firstElementChild))))),Ex=t=>V(t instanceof Element?t:null);var ia={};l(ia,{above:()=>na,below:()=>oa});var na=t=>e=>e.innerHeight>=t.getBoundingClientRect().top,oa=t=>e=>e.innerHeight<t.getBoundingClientRect().top;var aa={};l(aa,{offsetY:()=>yo});var yo=St((t,e)=>t.getBoundingClientRect().top>=e.getBoundingClientRect().top?1:-1);var sa={};l(sa,{Element:()=>Tx,HTMLAnchorElement:()=>jx,HTMLElement:()=>Sx,SVGGeometryElement:()=>wx});var Tx=new G("Element",t=>t instanceof globalThis.Element,(t,e)=>t instanceof globalThis.Element?tt(t):lt(t,e),t=>t),Sx=new G("HTMLElement",t=>t instanceof globalThis.HTMLElement,(t,e)=>t instanceof globalThis.HTMLElement?tt(t):lt(t,e),t=>t),jx=new G("HTMLAnchorElement",t=>t instanceof globalThis.HTMLAnchorElement,(t,e)=>t instanceof globalThis.HTMLAnchorElement?tt(t):lt(t,e),t=>t),wx=new G("SVGGeometryElement",t=>t instanceof globalThis.SVGGeometryElement,(t,e)=>t instanceof globalThis.SVGGeometryElement?tt(t):lt(t,e),t=>t);var la={};l(la,{above:()=>Px,below:()=>kx,children:()=>qx,closest:()=>Cx,computedStyle:()=>ju,htmlElement:()=>Ux,identifier:()=>Bx,matrix:()=>wu,parentStream:()=>Mu,pathLength:()=>Gx,position:()=>Fx,rendered:()=>Vx,scrollY:()=>Dx,shape:()=>Su,translate:()=>Hx,visibility:()=>Nx});var Ft={};l(Ft,{add:()=>Lx,bimap:()=>Zr,equal:()=>Wx,fmap:()=>Mx,fold:()=>_x,from:()=>Oe,toX:()=>Re,toY:()=>Ee,transpose:()=>Ix,types:()=>pa});var pa={};Qt(pa);var Oe=t=>e=>[t,e],Re=t=>t[0],Ee=t=>t[1],Mx=t=>e=>Zr(t)(t)(e),Zr=t=>e=>r=>Oe(t(Re(r)))(e(Ee(r))),_x=t=>e=>t(Re(e),Ee(e)),Ix=t=>{let[e,r]=t;return Oe(Oe(Re(e))(Re(r)))(Oe(Ee(e))(Ee(r)))},Lx=t=>e=>Zr(r=>r+Re(t))(r=>r+Ee(e))(t),Wx=t=>(e,r)=>t(Re(e),Re(r))&&t(Ee(e),Ee(r));var Tu=(()=>{let t=0;return()=>`${t++}`})();var Su=t=>{let e=t.getBoundingClientRect();return{width:e.width,height:e.height,position:Oe(e.x)(e.y)}},Fx=t=>Su(t).position,ju=t=>e=>e.getComputedStyle(t,null),wu=t=>e=>s(ju(t)(e),r=>r.getPropertyValue("transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform"),r=>r.split("(")[1].split(")")[0].split(",")),Hx=t=>e=>s(wu(t)(e),r=>Oe(r[4])(r[5])),Cx=t=>e=>{for(let r of Array.from(Mu(e)))if(Element.prototype.matches.call(r,t))return r;return null},Mu=function*(t){let e=t;do yield e,e=e.parentElement||e.parentNode;while(e!==null&&e.nodeType===1)},Ux=t=>t instanceof HTMLElement?It(t):Ot,qx=t=>Array.from(t.children),Px=t=>e=>s(t,Ye(yo),ne(r=>na(r)(e))),kx=t=>e=>s(t,Ye(yo),ne(r=>oa(r)(e))),Bx=t=>(t.dataset.uuid||(t.dataset.uuid=Tu()),t.dataset.uuid),Nx=t=>e=>e.scrollY+1>=e.scrollY+t.getBoundingClientRect().top||e.scrollY+e.innerHeight>=e.document.body.offsetHeight?"visible":"hidden",Dx=t=>e=>t.getBoundingClientRect().top+e.scrollY,Vx=t=>s(Nt(t.offsetParent!==null),Ln(It(t))),Gx=t=>t.getTotalLength();var Qr={};l(Qr,{constants:()=>ua,from:()=>da,types:()=>ca});var ua={};l(ua,{noop:()=>ma});var ma={type:"@noop",payload:null};var da={};l(da,{io:()=>Kx});var ca={};l(ca,{Event:()=>fa});var fa=v({type:Y,payload:uo});var Kx=()=>{let t=Symbol("unit"),e=new Fi([t]);return[e.pipe(st(r=>wt(r)),k(fa.is),Ke(),Z(ma)),e.next.bind(e)]};var nt={};l(nt,{between:()=>ha,clamp:()=>ya,degree:()=>Xx,hypotenuse:()=>$x,lerp:()=>xo,lerpW:()=>xa,margin:()=>_u,percent:()=>Yx,radian:()=>Jx,range:()=>va,sum:()=>zx});var zx=t=>t.reduce((e,r)=>e+r,0),ya=(t,e,r)=>r>=e?Math.min(Math.max(t,e),r):ya(t,r,e),Yx=t=>ya(100*t,0,100),$x=(t,e)=>Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),Jx=t=>t*(Math.PI/180),Xx=t=>t*180/Math.PI,_u=(t,e)=>e===0?t:-(1-t/e),xo=(t,e,r)=>(1-r)*t+r*e,xa=(t,e,r)=>n=>xo(t,e,Math.abs(_u(t,e))<n?1:r),va=(t,e)=>e>=t?[t,e]:[e,t],ha=t=>e=>t[0]<=e&&e<t[1];var Jt={};l(Jt,{date:()=>ba,json:()=>Xe,number:()=>ga,string:()=>Aa});var ba={};l(ba,{parse:()=>Zx});var Zx=t=>s(new Date(t),Dl(e=>isNaN(e.getTime())?null:e));var Xe={};l(Xe,{parse:()=>Qx});var Qx=t=>{try{return It(JSON.parse(t))}catch{return Ot}};var ga={};l(ga,{parse:()=>tv});var tv=t=>s(parseFloat(t),e=>isNaN(e)?Ot:ye(e));var Aa={};l(Aa,{parse:()=>ev});var ev=t=>typeof t=="string"?It(t):Ot;var Ze={};l(Ze,{animation:()=>ov,combine:()=>iv,duration:()=>rv,tween:()=>nv});var rv=t=>e=>e.pipe(f(j(Ve.now())),f(r=>Ve.now()-r),f(r=>xo(0,1,r/t)),Sr(r=>r<1),Ge(1)),nv=t=>e=>t.pipe(dt((r,n)=>e.pipe(Et(o=>xa(o,n,.03)(.001),r),Sr(ha(va(0,1))),Ge(n)),0),R()),ov=t=>e=>e.pipe(M(t)),iv=t=>q(s(Object.keys(t),y(e=>q([L(e),t[e]])))).pipe(f(e=>e.reduce((r,n)=>({...r,[n[0]]:n[1]}),{})),R(),Bi(1));var tn={};l(tn,{constants:()=>Oa,lib:()=>Ra,types:()=>Ea});var Oa={};l(Oa,{end:()=>sv,start:()=>av});var av=0,sv=1;var Ra={};l(Ra,{toggle:()=>pv});var pv=t=>t===0?1:0;var Ea={};l(Ea,{ProgressRange:()=>lv});var lv=w([h(0),h(1)]);var vo={};l(vo,{to:()=>Ta,types:()=>Sa});var Ta={};l(Ta,{center:()=>mv});var mv=t=>s(t.position,Zr(e=>e-t.width/2)(e=>e-t.height/2));var Sa={};Qt(Sa);var C={};l(C,{cubicBezier:()=>Iu,easeInOutExpo:()=>gv,easeInOutQuad:()=>Av,easeOutQuint:()=>Ov,lerpish:()=>Rv});var gv=t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,Av=t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,Ov=t=>1-Math.pow(1-t,5),Iu=(t,e,r,n)=>{let o=3*t,i=3*(r-t)-o,a=1-o-i,p=3*e,m=3*(n-e)-p,c=1-p-m,d=T=>T*(o+T*(i+T*a)),b=T=>o+T*(2*i+3*a*T),x=T=>{if(T<=0)return 0;if(T>=1)return 1;let _,O=T;do _=O,O=O-(d(O)-T)/b(O);while(Math.abs(O-_)>1e-4);return O};return T=>{let _=x(T);return _*(p+_*(m+_*c))}},Rv=Iu(.25,.1,.14,.99);var Qe={};l(Qe,{append:()=>Ev,fromLocation:()=>Tv,normalize:()=>ho});var ho=t=>t.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),Ev=t=>e=>t.length>0?ho(t.startsWith("?")||t.startsWith("#")||/^\/*\?/.test(t)?`${e.replace(/\/*$/,"")}${t.replace(/^\/*/,"")}`:`${e}/${t}`):ho(e),Tv=t=>ho([t.origin,t.pathname].join(""));var F={};l(F,{constants:()=>Ma,from:()=>Ao,types:()=>_a});var Ma={};l(Ma,{empty:()=>jv,fadeIn:()=>bo,fadeOut:()=>ja,slideInBottom:()=>go,slideInBottomPx:()=>Sv,slideOutTop:()=>wa});var bo=t=>e=>{t.style.opacity=`${1*e}`},ja=X(bo,g.reverse),go=t=>e=>{t.style.transform=`translateY(${100-100*e}%)`},wa=X(go,g.reverse),Sv=t=>e=>r=>{e.style.transform=`translateY(${t-t*r}px)`},jv=()=>()=>null;var _a={};Qt(_a);var Ao={};l(Ao,{config:()=>wv});var wv=({animation:t})=>t==="fadeIn"?bo:t==="fadeOut"?ja:t==="slideInBottom"?go:wa;var Xt={};l(Xt,{lib:()=>Ia,types:()=>en});var Ia={};l(Ia,{toggle:()=>Mv});var Mv=t=>t==="light"?"dark":"light";var en={};l(en,{Brightness:()=>_v});var _v=w([h("light"),h("dark")]);var Ir={};l(Ir,{eq:()=>La,types:()=>Wa});var La={};l(La,{deep:()=>Iv});var Iv=At((t,e)=>$r.equals(t.scale,e.scale)&&so($r).equals(t.position,e.position));var Wa={};l(Wa,{Cursor:()=>Lv});var Lv=v({scale:I,position:Ae([I,I])});var Wv={equals:function(t,e){return t===e}},Fv={concat:function(t,e){return t+e}},kI={concat:Fv.concat,empty:""},Lr={equals:Wv.equals,compare:function(t,e){return t<e?-1:t>e?1:0}};function Fa(t){return function(e,r){if(r===void 0){var n=Fa(t);return function(i){return n(i,e)}}for(var o in e)if(!Mn.call(r,o)||!t.equals(e[o],r[o]))return!1;return!0}}function Ha(t,e){return e===void 0?function(r){return Ha(t,r)}:Mn.call(e,t)?ce(e[t]):fe}function Lu(t,e){var r=Wu(t,e);return function(n){return r(n,z)}}function Wu(t,e){return function(r,n){return e.reduce(r,{},function(o,i){var a=n(i),p=a[0],m=a[1];return o[p]=Mn.call(o,p)?t.concat(o[p],m):m,o})}}function Fu(t){var e=Fa(t);return At(function(r,n){return e(r)(n)&&e(n)(r)})}var Hv=function(t){return function(e){return Object.keys(e).sort(t.compare)}};function rn(t){if(typeof t=="function")return rn(Lr)(t);var e=Hv(t);return function(r){return function(n){for(var o=[],i=0,a=e(n);i<a.length;i++){var p=a[i];o.push(r(p,n[p]))}return o}}}var Hu=Ha;function Oo(t,e){return Lu(t,e)}var Cu=Fu;var ZL=Cu(At((t,e)=>u.to.identifier(t)===u.to.identifier(e)));var eW=Mt(Y,u.types.HTMLElement);var Pv=u.types.HTMLElement;var Nv=u.types.HTMLElement;var zv=u.types.HTMLElement;var Te={};l(Te,{lib:()=>Ua,types:()=>Pa});var Ua={};l(Ua,{back:()=>Qv,forward:()=>th,push:()=>Zv});var Zv=t=>e=>s(V(e.present),ot(()=>({...e,present:t}),r=>({...e,past:[...e.past,r],present:t}))),Qv=t=>s(t.past,ou(()=>t,(e,r)=>s(V(t.present),ot(()=>({...t,past:e,present:r}),n=>({past:e,present:r,future:[n,...t.future]}))))),th=t=>s(t.future,nu(()=>t,(e,r)=>s(V(t.present),ot(()=>({...t,future:r,present:e}),n=>({past:[...t.past,n],present:e,future:r})))));var Pa={};l(Pa,{History:()=>nh});var Wr={};l(Wr,{from:()=>qa,types:()=>tr});var qa={};l(qa,{path:()=>eh});var eh=t=>({path:t,state:null});var tr={};l(tr,{Location:()=>rh});var rh=v({path:Y,state:uo});var nh=v({past:ta(tr.Location),present:w([tr.Location,qt]),future:ta(tr.Location)});var Ro={};l(Ro,{from:()=>Na,types:()=>Ba});var Na={};l(Na,{closest:()=>Uu,element:()=>ah,event:()=>oh,unknown:()=>nn,window:()=>ih});var Ba={};l(Ba,{LinkElement:()=>ka});var ka=u.types.HTMLAnchorElement;var oh=t=>s(u.from.unknown(t.target),U(e=>s(nn(e),te(()=>Uu(e))))),Uu=t=>s(u.to.closest('*[data-type~="link"]')(t),nn),ih=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="link"]')),y(nn))),ah=t=>S(s(Array.from(t.querySelectorAll('*[data-type~="link"]')),y(nn))),nn=t=>B(ka.decode(t));var sh=u.types.HTMLElement;var mh=u.types.HTMLElement;var Fr={};l(Fr,{lib:()=>Da,types:()=>Va});var Da={};l(Da,{toggle:()=>yh});var yh=t=>t==="closed"?"open":"closed";var Va={};l(Va,{Menu:()=>xh});var xh=w([h("open"),h("closed")]);var Eo={};l(Eo,{from:()=>za,types:()=>Ka});var za={};l(za,{event:()=>vh});var Ka={};l(Ka,{MouseEvent:()=>Ga});var Ga=v({clientX:I,clientY:I});var vh=t=>s(t,In(e=>e instanceof MouseEvent),U(e=>s(Ga.decode({clientX:e.clientX,clientY:e.clientY}),B)));var To={};l(To,{types:()=>on});var on={};l(on,{Phase:()=>hh});var hh=w([h("preload"),h("intro"),h("main"),h("outro")]);var Ht={};l(Ht,{to:()=>er,types:()=>rr});var er={};l(er,{transform:()=>bh});var bh=t=>t==="ascending"?z:xr;var rr={};l(rr,{OrderType:()=>gh});var gh=w([h("ascending"),h("descending")]);var ae={};l(ae,{eq:()=>Ya,from:()=>pn,lib:()=>Qa,to:()=>Za,types:()=>Xa});var Ya={};l(Ya,{deep:()=>Ah});var Ah=At((t,e)=>t.order===e.order&&t.sort===e.sort&&t.view===e.view);var pn={};l(pn,{string:()=>Mh});var Xa={};l(Xa,{PostFilter:()=>Ja});var Hr={};l(Hr,{to:()=>an,types:()=>sn});var an={};l(an,{order:()=>Sh});var qW=At((t,e)=>t.identifier===e.identifier&&t.title===e.title&&t.author===e.author&&t.date.getTime()===e.date.getTime()&&t.url===e.url&&t.length===e.length&&t.tags.join("")===e.tags.join(""));var jo={};l(jo,{dto:()=>Eh});var So={};l(So,{PostMetadata:()=>$a});function Pu(t,e){return new G(t,e,function(r,n){return e(r)?tt(r):lt(r,n)},J)}var Rh=function(t){return t instanceof Date},ku=Pu("Date",Rh);var $a=v({identifier:Y,title:Y,author:Y,date:ku,url:Y,length:I,tags:Xr(Y)});var Eh=t=>s(hr,Rt("date",Jt.date.parse(t.date)),Rt("length",Jt.number.parse(t.length)),U(({date:e,length:r})=>s($a.decode({...t,date:e,length:r}),B)));var Se={};l(Se,{date:()=>Bu,length:()=>Nu,sortType:()=>Th,title:()=>Du});var Th=t=>t==="date"?Bu:t==="length"?Nu:Du,Bu=St((t,e)=>t.date.getTime()-e.date.getTime()>0?1:-1),Nu=St((t,e)=>t.length-e.length>0?1:-1),Du=St((t,e)=>t.title.localeCompare(e.title)>0?1:-1);var Sh=t=>t==="date"?Se.date:t==="title"?Se.title:Se.length;var sn={};l(sn,{PostSortType:()=>jh});var jh=w([h("date"),h("title"),h("length")]);var Ct={};l(Ct,{types:()=>nr});var nr={};l(nr,{ViewType:()=>wh});var wh=w([h("grid"),h("list")]);var Ja=v({order:rr.OrderType,sort:sn.PostSortType,view:nr.ViewType});var Mh=t=>s(Xe.parse(t),U(K(Ja.decode)));var Za={};l(Za,{order:()=>_h,string:()=>Ih});var _h=t=>s(an.order(t.sort),er.transform(t.order)),Ih=t=>JSON.stringify(t);var Qa={};l(Qa,{match:()=>Lh});var Lh=t=>e=>s(t,Ye(s(Se.sortType(e.sort),e.order==="ascending"?z:xr)));var wo={};l(wo,{element:()=>Ku,window:()=>Fh});var Gu=v({identifier:Y,title:Y,author:Y,date:Y,url:Y,length:Y,tags:Xr(Y)});var Fh=t=>s(Array.from(t.document.querySelectorAll('[data-metadata_type="post"]')),y(X(u.to.htmlElement,U(Ku))),S),Ku=t=>s(Jt.string.parse(t.dataset.tags),mt(e=>e.split(",").map(r=>r.trim())),U(e=>s(Gu.decode({...t.dataset,tags:e}),B)));var ln={};l(ln,{from:()=>ts,to:()=>es,types:()=>rs});var ts={};l(ts,{window:()=>Ch});var Ch=t=>s(wo.window(t),y(jo.dto),S,y(e=>[e.identifier,e]),Oo(_n(),po));var es={};l(es,{list:()=>Uh});var Uh=t=>rn(Lr)((e,r)=>r)(t);var rs={};l(rs,{PostMetadataRecord:()=>qh});var qh=Mt(Y,So.PostMetadata);var IF=w([h("in"),h("out")]);var Mo={};l(Mo,{types:()=>ns});var ns={};l(ns,{Scroll:()=>Bh});var Bh=v({y:I});var Cr={};l(Cr,{from:()=>as,types:()=>is});var as={};l(as,{detail:()=>Dh,event:()=>Nh});var is={};l(is,{ScrollToEvent:()=>os});var os=v({detail:I});var Nh=t=>s(t,In(e=>e instanceof CustomEvent),U(e=>s(os.decode({detail:e.detail}),B))),Dh=t=>({detail:t});var pe={};l(pe,{from:()=>ds,lib:()=>ys,types:()=>xs});var ds={};l(ds,{window:()=>eb});var Pt={};l(Pt,{eq:()=>ss,from:()=>dn,lib:()=>fs,to:()=>cs,types:()=>us});var ss={};l(ss,{deep:()=>Vh});var Vh=At((t,e)=>t.order===e.order&&t.sort===e.sort&&t.view===e.view);var dn={};l(dn,{string:()=>Xh});var us={};l(us,{TagFilter:()=>ms});var se={};l(se,{to:()=>fn,types:()=>cn});var fn={};l(fn,{order:()=>$h});var or={};l(or,{eq:()=>ps,from:()=>un,order:()=>je,types:()=>mn});var ps={};l(ps,{deep:()=>Gh});var Gh=At((t,e)=>t.name===e.name&&t.size===e.size&&t.url===e.url);var un={};l(un,{dto:()=>Kh,name:()=>zh});var mn={};l(mn,{TagMetadata:()=>ls});var ls=v({name:Y,size:I,url:Y});var Kh=t=>s(hr,Rt("size",Jt.number.parse(t.size)),U(({size:e})=>s(ls.decode({...t,size:e}),B))),zh=t=>e=>s(e,iu(r=>r.name===t));var je={};l(je,{name:()=>zu,size:()=>Yu,sortType:()=>Yh});var Yh=t=>t==="size"?Yu:zu,zu=St((t,e)=>t.name.localeCompare(e.name)>0?1:-1),Yu=St((t,e)=>t.size-e.size>0?1:-1);var $h=t=>t==="name"?je.name:je.size;var cn={};l(cn,{TagSortType:()=>Jh});var Jh=w([h("name"),h("size")]);var ms=v({view:nr.ViewType,sort:cn.TagSortType,order:rr.OrderType});var Xh=t=>s(Xe.parse(t),U(K(ms.decode)));var fs={};l(fs,{match:()=>Zh});var Zh=t=>e=>s(t,Ye(s(je.sortType(e.sort),e.order==="ascending"?z:xr)));var cs={};l(cs,{order:()=>Qh,string:()=>tb});var Qh=t=>s(fn.order(t.sort),er.transform(t.order)),tb=t=>JSON.stringify(t);var eb=t=>()=>({brightness:s(t.localStorage.getItem("brightness"),K(en.Brightness.decode),vt),postFilter:s(t.localStorage.getItem("postFilter"),V,U(pn.string),vt),tagFilter:s(t.localStorage.getItem("tagFilter"),V,U(dn.string),vt)});var ys={};l(ys,{clear:()=>nb,put:()=>rb});var rb=t=>e=>s(Kl([s(V(t.brightness),ot(j(Pe(null)),r=>()=>{e.localStorage.setItem("brightness",r)})),s(V(t.postFilter),mt(ae.to.string),ot(j(Pe(null)),r=>()=>{e.localStorage.setItem("postFilter",r)})),s(V(t.tagFilter),mt(Pt.to.string),ot(j(Pe(null)),r=>()=>{e.localStorage.setItem("tagFilter",r)}))]),Vl(j(null))),nb=t=>()=>{t.localStorage.removeItem("brightness"),t.localStorage.removeItem("postFilter"),t.localStorage.removeItem("tagFilter")};var xs={};l(xs,{Storage:()=>ob});var ob=v({brightness:w([Xt.types.Brightness,qt]),postFilter:w([ae.types.PostFilter,qt]),tagFilter:w([Pt.types.TagFilter,qt])});var _o={};l(_o,{element:()=>Ju,window:()=>ab});var $u=v({name:Y,size:Y,url:Y});var ab=t=>s(Array.from(t.document.querySelectorAll('[data-metadata_type="tag"]')),y(X(u.to.htmlElement,U(Ju))),S),Ju=t=>s($u.decode({...t.dataset}),B);var le={};l(le,{from:()=>vs,to:()=>hs,types:()=>bs});var vs={};l(vs,{window:()=>pb});var pb=t=>s(_o.window(t),y(un.dto),S,y(e=>[e.name,e]),Oo(_n(),po));var hs={};l(hs,{list:()=>lb});var lb=t=>rn(Lr)((e,r)=>r)(t);var bs={};l(bs,{TagMetadataRecord:()=>mb});var mb=Mt(Y,mn.TagMetadata);var yn={};l(yn,{AnimationConfig:()=>fb});var Io={};l(Io,{AnimationType:()=>ub});var ub=w([h("fadeIn"),h("fadeOut"),h("slideInBottom"),h("slideOutTop")]);var fb=v({animation:Io.AnimationType});var Lo={};l(Lo,{AnimationElementConfig:()=>vb});var we={};l(we,{ActivityStatus:()=>cb});var cb=w([h("active"),h("inactive")]);var Ur={};l(Ur,{VisibilityStatus:()=>yb});var yb=w([h("visible"),h("hidden")]);var vb=Mt(w([we.ActivityStatus,Ur.VisibilityStatus]),w([yn.AnimationConfig,qt]));var Wo={};l(Wo,{TransitionElementConfig:()=>hb});var hb=v({animation:Lo.AnimationElementConfig});var oC=St((t,e)=>t[0].getBoundingClientRect().top>=e[0].getBoundingClientRect().top?1:-1);var pC=Ae([u.types.HTMLElement,Wo.TransitionElementConfig]);var xn={};l(xn,{AnimationGroupConfig:()=>Rb});var Rb=v({start:I,end:I,stagger:I});var Fo={};l(Fo,{AnimationGroupElementConfig:()=>Eb});var Eb=Mt(w([we.ActivityStatus,Ur.VisibilityStatus]),w([xn.AnimationGroupConfig,qt]));var vn={};l(vn,{PhaseConfig:()=>Tb});var Tb=v({activityStatus:we.ActivityStatus});var Ho={};l(Ho,{PhaseElementConfig:()=>Sb});var Sb=Mt(on.Phase,w([vn.PhaseConfig,qt]));var Co={};l(Co,{TransitionGroupElementConfig:()=>jb});var jb=v({animation:Fo.AnimationGroupElementConfig,phase:Ho.PhaseElementConfig});var HC=St((t,e)=>t[0].getBoundingClientRect().top>=e[0].getBoundingClientRect().top?1:-1);var BC=Ae([u.types.HTMLElement,Co.TransitionGroupElementConfig]);var Uo={};l(Uo,{types:()=>gs});var gs={};l(gs,{WheelEvent:()=>Cb});var Cb=new G("WheelEvent",t=>t instanceof globalThis.WheelEvent,(t,e)=>t instanceof globalThis.WheelEvent?tt(t):lt(t,e),t=>t);var Jo={};l(Jo,{from:()=>ip,types:()=>ap});var ip={};l(ip,{window:()=>pA});var Po={};l(Po,{from:()=>Rs});var Rs={};l(Rs,{first:()=>Yb,unknown:()=>sf,window:()=>af});var Yb=t=>pt(af(t)),af=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="breadcrumbs"]')),y(X(sf,U(u.to.rendered))))),sf=t=>B(u.types.HTMLElement.decode(t));var ir={};l(ir,{from:()=>Es,to:()=>Ts});var Es={};l(Es,{first:()=>$b,unknown:()=>lf,window:()=>pf});var $b=t=>pt(pf(t)),pf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="brightness-trigger"]')),y(lf))),lf=t=>B(u.types.HTMLElement.decode(t));var Ts={};l(Ts,{dark:()=>Jb,light:()=>Xb});var Jb=t=>s(t.querySelector('*[data-value~="dark"]'),V,U(K(u.types.HTMLElement.decode))),Xb=t=>s(t.querySelector('*[data-value~="light"]'),V,U(K(u.types.HTMLElement.decode)));var W={};l(W,{from:()=>xt});var xt={};l(xt,{element:()=>Qb,unknown:()=>Ss,window:()=>Zb});var Zb=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="content"]')),y(Ss))),Qb=t=>S(s(Array.from(t.querySelectorAll('*[data-type~="content"]')),y(Ss))),Ss=t=>B(u.types.HTMLElement.decode(t));var ar={};l(ar,{from:()=>js,lib:()=>ws,to:()=>Ms});var js={};l(js,{first:()=>tg,window:()=>mf});var tg=t=>pt(mf(t)),mf=t=>S(s(Array.from(t.document.querySelectorAll('[data-type~="cursor"]')),y(K(u.types.HTMLElement.decode))));var ws={};l(ws,{update:()=>eg});var eg=t=>e=>()=>{let r=vo.to.center({...u.to.shape(e),position:t.position});e.style.transform=`translate(${Ft.toX(r)}px, ${Ft.toY(r)}px) scale(${t.scale})`};var Ms={};l(Ms,{path:()=>rg});var rg=t=>s(V(t.querySelector("#circle")),U(K(u.types.SVGGeometryElement.decode)));var ko={};l(ko,{from:()=>Is,to:()=>Ls});var Is={};l(Is,{unique:()=>ng,unknown:()=>_s,window:()=>og});var ng=t=>s(t.document.querySelector("#footer"),V,U(_s)),og=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="footer"]')),y(_s))),_s=t=>B(u.types.HTMLElement.decode(t));var Ls={};l(Ls,{animation:()=>ig});var ig=t=>g.stagger(.4)(s(xt.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e),F.constants.fadeIn(e)]),H.behavior.contramap(C.lerpish)))));var Bo={};l(Bo,{from:()=>Fs,to:()=>Hs});var Fs={};l(Fs,{unique:()=>ag,unknown:()=>Ws,window:()=>sg});var ag=t=>s(t.document.querySelector("#header"),V,U(Ws)),sg=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="header"]')),y(Ws))),Ws=t=>B(u.types.HTMLElement.decode(t));var Hs={};l(Hs,{animation:()=>pg});var pg=t=>g.stagger(.4)(s(xt.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e),F.constants.fadeIn(e)]),H.behavior.contramap(C.lerpish)))));var No={};l(No,{from:()=>Cs});var Cs={};l(Cs,{closest:()=>ff,element:()=>cg,event:()=>ug,unknown:()=>hn,window:()=>fg});var ug=t=>s(u.from.unknown(t.target),U(e=>s(hn(e),te(()=>ff(e))))),ff=t=>s(u.to.closest('*[data-type~="link"]')(t),hn),fg=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="link"]')),y(hn))),cg=t=>S(s(Array.from(t.querySelectorAll('*[data-type~="link"]')),y(hn))),hn=t=>B(u.types.HTMLAnchorElement.decode(t));var Do={};l(Do,{from:()=>Us,to:()=>qs});var Us={};l(Us,{first:()=>bg,unknown:()=>df,window:()=>cf});var bg=t=>pt(cf(t)),cf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="menu"]')),y(df))),df=t=>B(u.types.HTMLElement.decode(t));var qs={};l(qs,{background:()=>gg});var gg=t=>s(S(s(Array.from(t.querySelectorAll('*[data-type~="background"]')),y(K(u.types.HTMLElement.decode)))),pt);var me={};l(me,{from:()=>Ps,to:()=>ks});var Ps={};l(Ps,{first:()=>Ag,unknown:()=>xf,window:()=>yf});var Ag=t=>pt(yf(t)),yf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="menu-trigger"]')),y(xf))),xf=t=>B(u.types.HTMLElement.decode(t));var ks={};l(ks,{closed:()=>Rg,open:()=>Og});var Og=t=>s(t.querySelector('*[data-value~="open"]'),V,U(K(u.types.HTMLElement.decode))),Rg=t=>s(t.querySelector('*[data-value~="closed"]'),V,U(K(u.types.HTMLElement.decode)));var kt={};l(kt,{from:()=>Bs,to:()=>Ns});var Bs={};l(Bs,{name:()=>Eg,unknown:()=>hf,window:()=>vf});var Eg=t=>e=>s(vf(e).find(r=>r.dataset.name===t),V),vf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="slot"]')),y(hf))),hf=t=>B(u.types.HTMLElement.decode(t));var Ns={};l(Ns,{animation:()=>jg,child:()=>Vo,hidden:()=>Tg,visible:()=>Sg});var Vo=t=>e=>s(e.querySelector(`#${t}`),K(u.types.HTMLElement.decode)),Tg=t=>e=>s([Vo(t)(e)],S,r=>r.forEach(n=>{n.classList.add("hidden")})),Sg=t=>e=>s([Vo(t)(e)],S,r=>r.forEach(n=>{n.classList.remove("hidden")})),jg=t=>e=>s(Vo(t)(e),ot(j(j(null)),r=>g.stagger(.4)(s(xt.element(r),y(n=>s(g.concat([F.constants.slideInBottomPx(48)(n),F.constants.fadeIn(n)]),H.behavior.contramap(C.lerpish)))))));var Go={};l(Go,{from:()=>Ds});var Ds={};l(Ds,{window:()=>wg});var wg=t=>s(Array.from(t.document.querySelectorAll('*[data-type="quick_link"]')),y(K(u.types.HTMLElement.decode)),S);var Bt={};l(Bt,{from:()=>Gs,to:()=>Ks});var Gs={};l(Gs,{unique:()=>kg,unknown:()=>gf,window:()=>bf});var kg=t=>pt(bf(t)),bf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="tag-filter"]')),y(gf))),gf=t=>B(u.types.HTMLElement.decode(t));var Ks={};l(Ks,{animation:()=>Vg,tagOrderWidget:()=>Dg,tagSortWidget:()=>Ng,tagViewWidget:()=>Bg});var Bg=t=>pt(Ie.from.element(t)),Ng=t=>pt(_e.from.element(t)),Dg=t=>pt(Me.from.element(t)),Vg=t=>g.stagger(.6)(s(W.from.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e)]),H.behavior.contramap(C.lerpish)))));var Me={};l(Me,{from:()=>Ys,to:()=>$s});var Ys={};l(Ys,{element:()=>Kg,unique:()=>Gg,unknown:()=>zs,window:()=>Af});var Gg=t=>pt(Af(t)),Af=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="order-widget"]')),y(zs))),Kg=t=>S(s(Array.from(t.querySelectorAll('*[data-type~="order-widget"]')),y(zs))),zs=t=>B(u.types.HTMLElement.decode(t));var $s={};l($s,{animation:()=>Yg,inputs:()=>Of,values:()=>zg});var Of=t=>s(Array.from(t.querySelectorAll("[data-value]")),y(K(u.types.HTMLElement.decode)),S,ne(e=>s(e.dataset.value,Ht.types.OrderType.is))),zg=t=>s(Of(t),y(e=>s(e.dataset.value,K(Ht.types.OrderType.decode))),S),Yg=t=>g.stagger(.4)(s(xt.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e)]),H.behavior.contramap(C.lerpish)))));var _e={};l(_e,{from:()=>Xs,to:()=>Zs});var Xs={};l(Xs,{element:()=>Jg,unique:()=>$g,unknown:()=>Js,window:()=>Rf});var $g=t=>pt(Rf(t)),Rf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="sort-widget"]')),y(Js))),Jg=t=>S(s(Array.from(t.querySelectorAll('*[data-type~="sort-widget"]')),y(Js))),Js=t=>B(u.types.HTMLElement.decode(t));var Zs={};l(Zs,{animation:()=>Zg,inputs:()=>Ef,values:()=>Xg});var Ef=t=>s(Array.from(t.querySelectorAll("[data-value]")),y(K(u.types.HTMLElement.decode)),S,ne(e=>s(e.dataset.value,se.types.TagSortType.is))),Xg=t=>s(Ef(t),y(e=>s(e.dataset.value,K(se.types.TagSortType.decode))),S),Zg=t=>g.stagger(.4)(s(xt.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e)]),H.behavior.contramap(C.lerpish)))));var Ie={};l(Ie,{from:()=>tp,to:()=>ep});var tp={};l(tp,{element:()=>tA,unique:()=>Qg,unknown:()=>Qs,window:()=>Tf});var Qg=t=>pt(Tf(t)),Tf=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="view-widget"]')),y(Qs))),tA=t=>S(s(Array.from(t.querySelectorAll('*[data-type~="view-widget"]')),y(Qs))),Qs=t=>B(u.types.HTMLElement.decode(t));var ep={};l(ep,{animation:()=>rA,inputs:()=>Sf,values:()=>eA});var Sf=t=>s(Array.from(t.querySelectorAll("[data-value]")),y(K(u.types.HTMLElement.decode)),S,ne(e=>s(e.dataset.value,Ct.types.ViewType.is))),eA=t=>s(Sf(t),y(e=>s(e.dataset.value,K(Ct.types.ViewType.decode))),S),rA=t=>g.stagger(.4)(s(xt.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e)]),H.behavior.contramap(C.lerpish)))));var $o={};l($o,{from:()=>np,to:()=>op});var np={};l(np,{unique:()=>iA,unknown:()=>rp,window:()=>aA});var iA=t=>s(t.document.querySelector("#title"),V,U(rp)),aA=t=>S(s(Array.from(t.document.querySelectorAll('*[data-type~="title"]')),y(rp))),rp=t=>B(u.types.HTMLElement.decode(t));var op={};l(op,{animation:()=>sA});var sA=t=>g.stagger(.4)(s(xt.element(t),y(e=>s(g.concat([F.constants.slideInBottom(e),F.constants.fadeIn(e)]),H.behavior.contramap(C.lerpish)))));var pA=t=>s(hr,Rt("menu",Do.from.first(t)),Rt("menuTrigger",me.from.first(t)),Rt("breadcrumbs",Po.from.first(t)),Rt("brightnessTrigger",ir.from.first(t)),Rt("cursor",ar.from.first(t)),Rt("header",Bo.from.unique(t)),Rt("footer",ko.from.unique(t)),Rt("title",$o.from.unique(t)),Rt("tagList",kt.from.name("tags")(t)),Rt("tagFilter",Bt.from.unique(t)));var ap={};Qt(ap);var di={};l(di,{from:()=>el,types:()=>rl});var el={};l(el,{event:()=>OO});var lA=function(t,e){return s(t,sp(e))},mA=function(t,e){return s(t,fA(e))};var sp=function(t){return function(e){return function(r){return t(e(r))}}},uA=function(t){return function(e){return function(r){return e(r)(t(r))}}},fA=uA,cA=j;var dA="Reader";var yA={URI:dA,map:lA,ap:mA};var jf=cA(de),Zt=Sn(yA);var N={};l(N,{actions:()=>pp,reducers:()=>bn,transitions:()=>fp,types:()=>qr});var qr={};l(qr,{Action:()=>vA,LinearAction:()=>Qo,SetAction:()=>Xo,State:()=>xA,TweenAction:()=>Zo});var xA=I,Xo=v({type:h("animation/set"),payload:I}),Zo=v({type:h("animation/tween"),payload:w([v({value:I,speed:I}),v({value:I,speed:I,threshold:I})])}),Qo=v({type:h("animation/linear"),payload:v({value:I,duration:I})}),vA=w([Xo,Zo,Qo]);var pp={};l(pp,{linear:()=>hA,tween:()=>bA});var hA=t=>({type:"animation/linear",payload:t}),bA=t=>({type:"animation/tween",payload:t});var bn={};l(bn,{main:()=>gA});var fp={};l(fp,{linear:()=>up,set:()=>lp,tween:()=>mp});var lp=t=>e=>L(e.payload),mp=t=>e=>r=>t.pipe(Et(n=>nt.lerpW(n,r.payload.value,r.payload.speed)("threshold"in r.payload?r.payload.threshold:.001),e),Sr(n=>n!==r.payload.value),Ge(r.payload.value)),up=t=>e=>r=>Ze.duration(r.payload.duration)(t).pipe(f(n=>nt.lerpW(e,r.payload.value,n)(.001)),Ge(r.payload.value));var gA=t=>e=>r=>r.pipe(dt((n,o)=>Xo.is(o)?lp(n)(o):Zo.is(o)?mp(t)(n)(o):Qo.is(o)?up(t)(n)(o):L(n),e),Z(e));var A={};l(A,{actions:()=>cp,reducers:()=>xp,selectors:()=>vp,types:()=>yp});var cp={};l(cp,{update:()=>AA});var AA=t=>e=>({type:"update/animations",payload:{key:e,action:t}});var xp={};l(xp,{main:()=>RA});var yp={};l(yp,{Action:()=>dp,State:()=>OA,UpdateAction:()=>wf});var OA=Mt(Y,qr.State),wf=v({type:h("update/animations"),payload:v({key:Y,action:qr.Action})}),dp=wf;var RA=t=>e=>r=>r.pipe(k(dp.is),Pi(n=>n.payload.key),st(n=>q([L(n.key),bn.main(t)(e[n.key]||0)(n.pipe(f(o=>o.payload.action)))])),Et((n,o)=>({...n,[o[0]]:o[1]}),e),Z(e));var vp={};l(vp,{lookup:()=>EA});var EA=t=>e=>e.pipe(f(Hu(t)),f(vt),k(r=>r!==null),R());var Pr={};l(Pr,{actions:()=>hp,reducers:()=>Rp,transitions:()=>Op,types:()=>bp});var hp={};l(hp,{set:()=>TA,toggle:()=>SA});var TA=t=>({type:"brightness/set",payload:t}),SA={type:"brightness/toggle",payload:void 0};var Rp={};l(Rp,{main:()=>wA});var bp={};l(bp,{Action:()=>jA,SetAction:()=>ti,State:()=>Mf,ToggleAction:()=>ei});var Mf=Xt.types.Brightness,ti=v({type:h("brightness/set"),payload:Mf}),ei=v({type:h("brightness/toggle"),payload:Je}),jA=w([ti,ei]);var Op={};l(Op,{set:()=>gp,toggle:()=>Ap});var gp=t=>e=>L(e.payload),Ap=t=>e=>L(Xt.lib.toggle(t));var wA=t=>e=>e.pipe(dt((r,n)=>ti.is(n)?gp(r)(n):ei.is(n)?Ap(r)(n):L(r),t),Z(t));var sr={};l(sr,{actions:()=>Ep,reducers:()=>Sp,types:()=>Tp});var Ep={};l(Ep,{move:()=>_A,scale:()=>IA,set:()=>MA});var MA=t=>({type:"cursor/set",payload:t}),_A=t=>({type:"cursor/move",payload:t}),IA=t=>({type:"cursor/scale",payload:t});var Sp={};l(Sp,{main:()=>WA});var Tp={};l(Tp,{Action:()=>LA,MoveAction:()=>ni,ScaleAction:()=>oi,SetAction:()=>ri,State:()=>_f});var _f=Ir.types.Cursor,ri=v({type:h("cursor/set"),payload:_f}),ni=v({type:h("cursor/move"),payload:Ae([I,I])}),oi=v({type:h("cursor/scale"),payload:I}),LA=w([ri,ni,oi]);var If=t=>e=>L(e.payload),Lf=t=>e=>L({...t,position:e.payload}),Wf=t=>e=>L({...t,scale:e.payload});var WA=t=>e=>e.pipe(dt((r,n)=>ri.is(n)?If(r)(n):ni.is(n)?Lf(r)(n):oi.is(n)?Wf(r)(n):L(r),t),Z(t));var Le={};l(Le,{actions:()=>jp,reducers:()=>Wp,selectors:()=>Fp,transitions:()=>Lp,types:()=>wp});var jp={};l(jp,{back:()=>HA,forward:()=>CA,push:()=>FA});var FA=t=>({type:"history/push",payload:t}),HA=()=>({type:"history/back",payload:void 0}),CA=()=>({type:"history/forward",payload:void 0});var Wp={};l(Wp,{main:()=>PA});var wp={};l(wp,{Action:()=>qA,BackAction:()=>ai,ForwardAction:()=>si,PushAction:()=>ii,State:()=>UA});var UA=Te.types.History,ii=v({type:h("history/push"),payload:Wr.types.Location}),ai=v({type:h("history/back"),payload:Qi}),si=v({type:h("history/forward"),payload:Qi}),qA=w([ii,ai,si]);var Lp={};l(Lp,{back:()=>_p,forward:()=>Ip,push:()=>Mp});var Mp=t=>e=>L(Te.lib.push(e.payload)(t)),_p=t=>L(Te.lib.back(t)),Ip=t=>L(Te.lib.forward(t));var PA=t=>e=>e.pipe(dt((r,n)=>ii.is(n)?Mp(r)(n):ai.is(n)?_p(r):si.is(n)?Ip(r):L(r),t),Z(t));var Fp={};l(Fp,{location:()=>kA});var kA=t=>t.pipe(f(e=>e.present),k(e=>e!==null));var kr={};l(kr,{actions:()=>Hp,reducers:()=>kp,transitions:()=>Pp,types:()=>Cp});var Hp={};l(Hp,{set:()=>BA,toggle:()=>NA});var BA=t=>({type:"menu/set",payload:t}),NA={type:"menu/toggle",payload:void 0};var kp={};l(kp,{main:()=>VA});var Cp={};l(Cp,{Action:()=>DA,SetAction:()=>pi,State:()=>Ff,ToggleAction:()=>li});var Ff=Fr.types.Menu,pi=v({type:h("menu/set"),payload:Ff}),li=v({type:h("menu/toggle"),payload:Je}),DA=w([pi,li]);var Pp={};l(Pp,{set:()=>Up,toggle:()=>qp});var Up=t=>e=>L(e.payload),qp=t=>e=>L(Fr.lib.toggle(t));var VA=t=>e=>e.pipe(dt((r,n)=>pi.is(n)?Up(r)(n):li.is(n)?qp(r)(n):L(r),t),Z(t));var NP=ae.types.PostFilter,KA=v({type:h("postFilter/set"),payload:co({order:Ht.types.OrderType,sort:Hr.types.PostSortType,view:Ct.types.ViewType})});var JA=ln.types.PostMetadataRecord,XA=v({type:h("postMetadataRecord/set"),payload:JA});var _t={};l(_t,{actions:()=>Bp,reducers:()=>Vp,selectors:()=>Gp,types:()=>Dp});var Bp={};l(Bp,{set:()=>eO});var eO=t=>({type:"scene/set",payload:t});var Vp={};l(Vp,{main:()=>rO});var Dp={};l(Dp,{Action:()=>Np,SetAction:()=>Uf,State:()=>Cf});var Cf=To.types.Phase,Uf=v({type:h("scene/set"),payload:Cf}),Np=Uf;var rO=t=>e=>e.pipe(k(Np.is),f(r=>r.payload),Z(t));var Gp={};l(Gp,{excludes:()=>oO,includes:()=>nO});var nO=t=>e=>e.pipe(k(r=>t.includes(r)),R()),oO=t=>e=>e.pipe(k(r=>!t.includes(r)),R());var pr={};l(pr,{actions:()=>Kp,reducers:()=>Yp,types:()=>zp});var Kp={};l(Kp,{linear:()=>sO,set:()=>iO,tween:()=>aO});var iO=t=>({type:"scroll/set",payload:t}),aO=t=>({type:"scroll/tween",payload:t}),sO=t=>({type:"scroll/linear",payload:t});var Yp={};l(Yp,{main:()=>lO});var zp={};l(zp,{Action:()=>pO,LinearAction:()=>kf,SetAction:()=>mi,State:()=>qf,TweenAction:()=>Pf});var qf=Mo.types.Scroll,mi=v({type:h("scroll/set"),payload:qf}),Pf=v({type:h("scroll/tween"),payload:w([v({value:I,speed:I}),v({value:I,speed:I,threshold:I})])}),kf=v({type:h("scroll/linear"),payload:v({value:I,duration:I})}),pO=w([mi,Pf,kf]);var lO=t=>e=>e.pipe(k(mi.is),Et((r,n)=>n.payload,t),Z(t));var We={};l(We,{actions:()=>$p,reducers:()=>Xp,types:()=>Jp});var $p={};l($p,{set:()=>mO});var mO=t=>({type:"tagFilter/set",payload:t});var Xp={};l(Xp,{main:()=>cO});var Jp={};l(Jp,{Action:()=>fO,SetAction:()=>ui,State:()=>uO});var uO=Pt.types.TagFilter,ui=v({type:h("tagFilter/set"),payload:co({order:Ht.types.OrderType,sort:se.types.TagSortType,view:Ct.types.ViewType})}),fO=ui;var cO=t=>e=>e.pipe(dt((r,n)=>ui.is(n)?L({...r,...n.payload}):L(r),t),Z(t));var ci={};l(ci,{actions:()=>Zp,reducers:()=>tl,types:()=>Qp});var Zp={};l(Zp,{set:()=>dO});var dO=t=>({type:"tagMetadataRecord/set",payload:t});var tl={};l(tl,{main:()=>xO});var Qp={};l(Qp,{Action:()=>yO,SetAction:()=>fi,State:()=>Bf});var Bf=le.types.TagMetadataRecord,fi=v({type:h("tagMetadataRecord/set"),payload:Bf}),yO=fi;var xO=t=>e=>e.pipe(dt((r,n)=>fi.is(n)?L(n.payload):L(r),t),Z(t));var Nf=v({type:h("tweenable/set"),payload:I}),Df=v({type:h("tweenable/tween"),payload:w([v({value:I,speed:I}),v({value:I,speed:I,threshold:I})])}),Vf=v({type:h("tweenable/linear"),payload:v({value:I,duration:I})}),uk=w([Nf,Df,Vf]);var OO=t=>e=>r=>s(jf,Zt("animations",A.reducers.main(e)({[u.to.identifier(t.tagList)]:.5})),Zt("history",Le.reducers.main({past:[],present:null,future:[]})),Zt("cursor",sr.reducers.main({scale:1,position:[0,0]})),Zt("brightness",s(pe.from.window(r)().brightness,V,ot(j("light"),z),Pr.reducers.main)),Zt("menu",kr.reducers.main("closed")),Zt("scene",_t.reducers.main("intro")),Zt("scroll",pr.reducers.main({y:0})),Zt("tagFilter",s(pe.from.window(r)().tagFilter,V,ot(j({view:"grid",sort:"name",order:"ascending"}),z),We.reducers.main)),Zt("tagMetadataRecord",ci.reducers.main(le.from.window(r))),sp(Ze.combine));var rl={};Qt(rl);function Gf(t){return t[0]}var ue=Gf;var lr={};l(lr,{events:()=>nl,views:()=>ol});var nl={};l(nl,{animation:()=>UO,mount:()=>Kf,observe:()=>HO,unmount:()=>CO});var HO=t=>E(Kf(t)),Kf=t=>E(...s(W.from.element(t),ht((e,r)=>rt(0+e*100).pipe(f(()=>[A.actions.update(N.actions.tween({value:1,speed:.04,threshold:.01}))(u.to.identifier(r))]))))),CO=t=>E(...s(W.from.element(t),Ut,ht((e,r)=>rt(e*25).pipe(f(()=>[A.actions.update(N.actions.tween({value:0,speed:.2,threshold:.01}))(u.to.identifier(r))]))))),UO=t=>e=>{let r=W.from.element(t);return q(s(r,y(n=>s(A.selectors.lookup(u.to.identifier(n))(e))))).pipe(f(n=>nt.sum(n)/r.length))};var ol={};l(ol,{animate:()=>zf,observe:()=>qO});var qO=t=>e=>E(zf(t)(e.pipe(f(r=>r.animations),R()))),zf=t=>e=>q(s(W.from.element(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([F.constants.slideInBottom(r)]),H.behavior.contramap(C.lerpish)))))))).pipe(f(j(null)));var gn={};l(gn,{events:()=>il,views:()=>al});var il={};l(il,{observe:()=>PO,toggle:()=>Yf});var PO=t=>e=>E(at(t,"click").pipe(f(j([Pr.actions.toggle]))),Yf(t)(e.pipe(f(r=>r.brightness),R()))),Yf=t=>e=>e.pipe(f(r=>[A.actions.update(N.actions.tween({value:r==="light"?0:1,speed:.08,threshold:.001}))(u.to.identifier(t))]));var al={};l(al,{animate:()=>$f,observe:()=>kO});var kO=t=>e=>E($f(t)(e.pipe(f(r=>r.animations),R()))),$f=t=>e=>A.selectors.lookup(u.to.identifier(t))(e).pipe(M(r=>{g.concat([s(g.concat([n=>{s(ir.to.dark(t),re).forEach(o=>{o.style.transform=`translateY(${100*n}%)`})}]),g.between([0,.5])),s(g.concat([n=>{s(ir.to.light(t),re).forEach(o=>{o.style.transform=`translateY(${-100*n}%)`})}]),g.reverse,g.between([.5,1]))])(r)}));var Fe={};l(Fe,{events:()=>sl,views:()=>pl});var sl={};l(sl,{animation:()=>VO,mount:()=>Xf,move:()=>NO,observe:()=>BO,scale:()=>Jf,unmount:()=>DO});var BO=t=>e=>r=>E(Jf(e)(r),Xf(t)(r)),NO=t=>e=>t.pipe(Vt(at(e,"mousemove").pipe(f(X(Eo.from.event,vt)),k(r=>r!==null)).pipe(f(r=>Ft.from(r.clientX)(r.clientY))),(r,n)=>n),Et((r,n)=>s(Ft.transpose(Ft.from(r)(n)),Ft.fmap(Ft.fold((o,i)=>nt.lerpW(o,i,.065)(.001)))),Ft.from(0)(0)),R(Ft.equal((r,n)=>r===n)),k(()=>ie.from.window(e)==="desktop"),f(r=>[sr.actions.move(r)])),Jf=t=>e=>E(at(e,"mouseup").pipe(f(j(1))),at(e,"mousedown").pipe(f(j(1.25))),at(e,"mousemove").pipe(f(X(No.from.event,ot(j(1),j(1.5)))))).pipe(dt((r,n)=>t.pipe(Et(o=>nt.lerpW(o,n,.125)(.001),r)),1),k(()=>ie.from.window(e)==="desktop"),f(r=>[sr.actions.scale(r)])),Xf=t=>e=>at(e,"mousemove").pipe(k(()=>ie.from.window(e)==="desktop"),Yr(1),f(()=>[A.actions.update(N.actions.tween({value:1,speed:.0225,threshold:.01}))(u.to.identifier(t))])),DO=t=>L(null).pipe(f(()=>[A.actions.update(N.actions.linear({value:0,duration:300}))(u.to.identifier(t))])),VO=t=>e=>A.selectors.lookup(u.to.identifier(t))(e);var pl={};l(pl,{animate:()=>Qf,observe:()=>GO,update:()=>Zf});var GO=t=>e=>E(Zf(t)(e.pipe(f(r=>r.cursor),R(Ir.eq.deep.equals))),Qf(t)(e.pipe(f(r=>r.animations),R()))),Zf=t=>e=>E(e.pipe(M(r=>{ar.lib.update(r)(t)()}))),Qf=t=>e=>s(e,A.selectors.lookup(u.to.identifier(t))).pipe(Z(0),M(X(C.lerpish,g.concat([g.reverse(r=>s(ar.to.path(t),mt(n=>()=>{n.setAttribute("stroke-dasharray",`${u.to.pathLength(n)}`),n.setAttribute("stroke-dashoffset",`${u.to.pathLength(n)*r}`)}),ot(j(Pe(null)),z))()),r=>{t.style.opacity=`${r}`}]))));var mr={};l(mr,{events:()=>ll,views:()=>ml});var ll={};l(ll,{animation:()=>YO,mount:()=>tc,observe:()=>KO,unmount:()=>zO});var KO=t=>E(tc(t)),tc=t=>E(...s(W.from.element(t),ht((e,r)=>rt(0+e*100).pipe(f(()=>[A.actions.update(N.actions.tween({value:1,speed:.04,threshold:.01}))(u.to.identifier(r))]))))),zO=t=>E(...s(W.from.element(t),Ut,ht((e,r)=>rt(e*50).pipe(f(()=>[A.actions.update(N.actions.tween({value:0,speed:.2,threshold:.01}))(u.to.identifier(r))]))))),YO=t=>e=>{let r=W.from.element(t);return q(s(r,y(n=>s(A.selectors.lookup(u.to.identifier(n))(e))))).pipe(f(n=>nt.sum(n)/r.length))};var ml={};l(ml,{animate:()=>ec,observe:()=>$O});var $O=t=>e=>E(ec(t)(e.pipe(f(r=>r.animations),R()))),ec=t=>e=>q(s(W.from.element(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([F.constants.slideInBottom(r),F.constants.fadeIn(r)]),H.behavior.contramap(C.lerpish)))))))).pipe(f(j(null)));var ur={};l(ur,{events:()=>ul,views:()=>fl});var ul={};l(ul,{animation:()=>ZO,mount:()=>rc,observe:()=>JO,unmount:()=>XO});var JO=t=>E(rc(t)),rc=t=>E(...s(W.from.element(t),ht((e,r)=>rt(0+e*100).pipe(f(()=>[A.actions.update(N.actions.tween({value:1,speed:.04,threshold:.01}))(u.to.identifier(r))]))))),XO=t=>E(...s(W.from.element(t),Ut,ht((e,r)=>rt(e*50).pipe(f(()=>[A.actions.update(N.actions.tween({value:0,speed:.2,threshold:.01}))(u.to.identifier(r))]))))),ZO=t=>e=>{let r=W.from.element(t);return q(s(r,y(n=>s(A.selectors.lookup(u.to.identifier(n))(e))))).pipe(f(n=>nt.sum(n)/r.length))};var fl={};l(fl,{animate:()=>nc,observe:()=>QO});var QO=t=>e=>E(nc(t)(e.pipe(f(r=>r.animations),R()))),nc=t=>e=>q(s(W.from.element(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([F.constants.slideInBottom(r),F.constants.fadeIn(r)]),H.behavior.contramap(C.lerpish)))))))).pipe(f(j(null)));var yi={};l(yi,{views:()=>cl});var cl={};l(cl,{brightness:()=>oc,observe:()=>tR});var tR=t=>e=>E(oc(t.pipe(f(r=>r.brightness),R()))(e)),oc=t=>e=>t.pipe(M(r=>{e.document.documentElement.classList.remove(Xt.lib.toggle(r)),e.document.documentElement.classList.add(r)}));var fr={};l(fr,{events:()=>dl,views:()=>yl});var dl={};l(dl,{animation:()=>iR,mount:()=>ic,observe:()=>oR,unmount:()=>ac});var oR=t=>e=>E(e.pipe(f(r=>r.menu),R(),k(r=>r==="open"),st(()=>ic(t).pipe(ze(e.pipe(f(r=>r.menu),R(),k(r=>r==="closed")))))),e.pipe(f(r=>r.menu),R(),k(r=>r==="closed"),st(()=>ac(t).pipe(ze(e.pipe(f(r=>r.menu),R(),k(r=>r==="open"))))))),ic=t=>E(...s(W.from.element(t),ht((e,r)=>rt(150+e*150).pipe(f(()=>[A.actions.update(N.actions.tween({value:1,speed:.025,threshold:.01}))(u.to.identifier(r))])))),...s(jr(t),y(e=>rt(0).pipe(f(()=>[A.actions.update(N.actions.linear({value:1,duration:300}))(u.to.identifier(e))]))))),ac=t=>E(...s([...jr(t).map(e=>L([A.actions.update(N.actions.linear({value:0,duration:200}))(u.to.identifier(e))])),...W.from.element(t).map(e=>L([A.actions.update(N.actions.tween({value:0,speed:.2,threshold:.01}))(u.to.identifier(e))]))],Ut,ht((e,r)=>rt(e*75).pipe(st(()=>r))))),iR=t=>e=>{let r=[...jr(t),...W.from.element(t)];return q(s(r,y(n=>s(A.selectors.lookup(u.to.identifier(n))(e))))).pipe(f(n=>nt.sum(n)/r.length))};var yl={};l(yl,{animate:()=>sc,observe:()=>aR});var aR=t=>e=>E(sc(t)(e.pipe(f(r=>r.animations),R()))),sc=t=>e=>q([...s(W.from.element(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([F.constants.slideInBottom(r)]),H.behavior.contramap(C.lerpish))))))),...s(jr(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([X(C.lerpish,n=>{r.style.opacity=`${n}`}),()=>{r.classList.remove("hidden")}]),H.behavior.after([0,()=>{r.classList.add("hidden")}])))))))]).pipe(f(j(null)));var An={};l(An,{events:()=>xl,views:()=>vl});var xl={};l(xl,{observe:()=>sR,toggle:()=>pc});var sR=t=>e=>E(at(t,"click").pipe(f(j([kr.actions.toggle]))),pc(t)(e.pipe(f(r=>r.menu),R()))),pc=t=>e=>e.pipe(f(r=>[A.actions.update(N.actions.tween({value:r==="open"?0:1,speed:.08,threshold:.001}))(u.to.identifier(t))]));var vl={};l(vl,{active:()=>lR,animate:()=>lc,observe:()=>pR});var pR=t=>e=>E(lc(t)(e.pipe(f(r=>r.animations),R()))),lR=t=>e=>E(e.pipe(M(r=>{let{left:n,right:o}=s([...s(me.to.open(t),re),...s(me.to.closed(t),re)],wr(i=>i.dataset.value===r));n.forEach(i=>{i.classList.remove("inactive"),i.classList.add("active")}),o.forEach(i=>{i.classList.remove("active"),i.classList.add("inactive")})}))),lc=t=>e=>A.selectors.lookup(u.to.identifier(t))(e).pipe(M(r=>{g.concat([s(g.concat([n=>{s(me.to.closed(t),re).forEach(o=>{o.style.transform=`translateY(${100*n}%)`})}]),g.between([0,.5])),s(g.concat([n=>{s(me.to.open(t),re).forEach(o=>{o.style.transform=`translateY(${-100*n}%)`})}]),g.reverse,g.between([.5,1]))])(r)}));var xi={};l(xi,{create:()=>bR});var fc=({tag:t})=>e=>`
    <div
      class="card-item flex flex-col justify-center items-center border p-8"
      data-identifier="${t.name}"
    >
      <div class="w-3/4 h-px my-9"></div>
      <div class="w-full h-24 flex justify-center items-center">
        <a
          class="text-2xl text-animated-hover"
          href="${t.url}"
          data-type="link"
        >
          <span class="text text-primary">${t.name}</span>
        </a>
      </div>
      <div class="flex align-center mb-20">
        <div
          class="mr-2"
          style="--index: 2"
        >
          <span class="text text-secondary inline-block"> ${t.size} posts </span>
        </div>
      </div>
    </div>
  `;var bR=t=>e=>`
    <div class="grid-view flex flex-wrap hidden" id=${t.id} data-items="grid">
      ${t.tags.map(r=>`
        <div class="w-full sm:w-1/2 md:w-1/3" data-item data-type="content">
          ${fc({...t,tag:r})(e)}
        </div>
      `).join("")}
    </div>
  `;var vi={};l(vi,{create:()=>AR});var cc=({tag:t})=>e=>`
    <div
      class="row-item grid grid-cols-9 py-8 border-b items-center"
      data-identifier="${t.name}"
    >
      <div class="col-span-9 md:col-span-5 mb-3 md:mb-0">
        <a
          class="mb-2 text-2xl text-animated-hover"
          href="${t.url}"
          data-type="link"
        >
          <span class="text text-primary"> ${t.name} </span>
        </a>
      </div>
      <div class="invisible md:visible md:col-span-2">
      </div>
      <div class="col-span-9 md:col-span-2">
        <span class="text text-secondary text-xs">${t.size} posts</span>
      </div>
    </div>
  `;var AR=t=>e=>`
    <div class="list-view flex flex-col hidden" id=${t.id} data-items="list">
      ${t.tags.map(r=>`
        <div class="mb-16" data-item data-type="content">
          ${cc({...t,tag:r})(e)}
        </div>
      `).join("")}
    </div>
  `;var On={};l(On,{events:()=>hl,views:()=>bl});var hl={};l(hl,{native:()=>dc,observe:()=>TR,smooth:()=>yc});var TR=t=>e=>s(Dr(),te(()=>s(Nt(ie.from.window(e)==="desktop"),mt(()=>yc(t)(e)))),ot(()=>dc(e),z)),dc=t=>(t.document.documentElement.classList.remove("smooth-scroll"),E(at(t,"scrollTo").pipe(f(X(Cr.from.event,vt)),k(e=>e!==null),f(e=>e.detail))).pipe(f(e=>[pr.actions.set({y:e})]))),yc=t=>e=>(e.document.documentElement.classList.add("smooth-scroll"),at(e,"wheel",{passive:!1}).pipe(f(Uo.types.WheelEvent.decode),f(du(j(null),z)),k(r=>r!==null),f(r=>r.deltaY*.8),Z(0),dt((r,n)=>E(L(r+n),at(e,"scrollTo").pipe(f(X(Cr.from.event,vt)),k(o=>o!==null),f(o=>o.detail)),at(e,"hashchange").pipe(f(()=>s(e.document.querySelector(`${e.location.hash}`),V,U(K(u.types.HTMLElement.decode)),vt)),k(o=>o!==null),f(o=>u.to.scrollY(o)(e)))).pipe(f(o=>nt.clamp(o,0,e.document.body.scrollHeight-e.document.body.clientHeight))),e.document.body.scrollTop),dt((r,n)=>t.pipe(Et(o=>nt.lerpW(o,n,.1)(1e-4),r),R()),e.scrollY),k(()=>ie.from.window(e)==="desktop"),f(r=>[pr.actions.set({y:r})])));var bl={};l(bl,{observe:()=>SR,scroll:()=>xc});var SR=t=>e=>xc(t.pipe(f(r=>r.scroll)))(e),xc=t=>e=>t.pipe(R(),M(r=>{e.scroll(0,r.y)}));var cr={};l(cr,{events:()=>gl,views:()=>Al});var gl={};l(gl,{animation:()=>MR,mount:()=>vc,observe:()=>jR,unmount:()=>wR});var jR=t=>E(vc(t)),vc=t=>E(...s(W.from.element(t),ht((e,r)=>rt(0+e*100).pipe(f(()=>[A.actions.update(N.actions.tween({value:1,speed:.04,threshold:.01}))(u.to.identifier(r))]))))),wR=t=>E(...s(W.from.element(t),Ut,ht((e,r)=>rt(e*50).pipe(f(()=>[A.actions.update(N.actions.tween({value:0,speed:.2,threshold:.01}))(u.to.identifier(r))]))))),MR=t=>e=>{let r=W.from.element(t);return q(s(r,y(n=>s(A.selectors.lookup(u.to.identifier(n))(e))))).pipe(f(n=>nt.sum(n)/r.length))};var Al={};l(Al,{animate:()=>hc,observe:()=>_R});var _R=t=>e=>E(hc(t)(e.pipe(f(r=>r.animations),R()))),hc=t=>e=>q(s(W.from.element(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([F.constants.slideInBottom(r),F.constants.fadeIn(r)]),H.behavior.contramap(C.lerpish)))))))).pipe(f(j(null)));var dr={};l(dr,{events:()=>Ol,views:()=>Rl});var Ol={};l(Ol,{animation:()=>WR,input:()=>gc,mount:()=>bc,observe:()=>IR,order:()=>Rc,sort:()=>Oc,unmount:()=>LR,view:()=>Ac});var IR=t=>E(bc(t),gc(t)),bc=t=>E(...s(W.from.element(t),ht((e,r)=>rt(0+e*50).pipe(f(()=>[A.actions.update(N.actions.tween({value:1,speed:.04,threshold:.01}))(u.to.identifier(r))]))))),LR=t=>E(...s(W.from.element(t),Ut,ht((e,r)=>rt(e*25).pipe(f(()=>[A.actions.update(N.actions.tween({value:0,speed:.2,threshold:.01}))(u.to.identifier(r))]))))),gc=t=>E(Ac(t),Oc(t),Rc(t)),Ac=t=>E(...s(Bt.to.tagViewWidget(t),xe(mt(Ie.to.inputs)),ve(z),y(e=>at(e,"click").pipe(f(()=>s(e.dataset.value,K(Ct.types.ViewType.decode),vt)),k(r=>r!==null))))).pipe(f(e=>[We.actions.set({view:e})])),Oc=t=>E(...s(Bt.to.tagSortWidget(t),xe(mt(_e.to.inputs)),ve(z),y(e=>at(e,"click").pipe(f(()=>s(e.dataset.value,K(se.types.TagSortType.decode),vt)),k(r=>r!==null))))).pipe(f(e=>[We.actions.set({sort:e})])),Rc=t=>E(...s(Bt.to.tagOrderWidget(t),xe(mt(Me.to.inputs)),ve(z),y(e=>at(e,"click").pipe(f(()=>s(e.dataset.value,K(Ht.types.OrderType.decode),vt)),k(r=>r!==null))))).pipe(f(e=>[We.actions.set({order:e})])),WR=t=>e=>{let r=W.from.element(t);return q(s(r,y(n=>s(A.selectors.lookup(u.to.identifier(n))(e))))).pipe(f(n=>nt.sum(n)/r.length))};var Rl={};l(Rl,{animate:()=>Ec,fields:()=>Tc,observe:()=>FR,order:()=>wc,sort:()=>jc,view:()=>Sc});var FR=t=>e=>E(Ec(t)(e.pipe(f(r=>r.animations),R())),Tc(t)(e.pipe(f(r=>r.tagFilter),R()))),Ec=t=>e=>q(s(W.from.element(t),y(r=>s(A.selectors.lookup(u.to.identifier(r))(e).pipe(M(s(g.concat([F.constants.slideInBottom(r)]),H.behavior.contramap(C.lerpish)))))))).pipe(f(j(null))),Tc=t=>e=>E(Sc(t)(e),jc(t)(e),wc(t)(e)).pipe(f(j(null))),Sc=t=>e=>e.pipe(f(r=>r.view),R(),M(r=>{let{left:n,right:o}=s(Bt.to.tagViewWidget(t),xe(mt(Ie.to.inputs)),ve(z),wr(i=>i.dataset.value===r));n.forEach(i=>{i.classList.remove("active"),i.classList.add("inactive")}),o.forEach(i=>{i.classList.remove("inactive"),i.classList.add("active")})})),jc=t=>e=>e.pipe(f(r=>r.sort),R(),M(r=>{let{left:n,right:o}=s(Bt.to.tagSortWidget(t),xe(mt(_e.to.inputs)),ve(z),wr(i=>i.dataset.value===r));n.forEach(i=>{i.classList.remove("active"),i.classList.add("inactive")}),o.forEach(i=>{i.classList.remove("inactive"),i.classList.add("active")})})),wc=t=>e=>e.pipe(f(r=>r.order),R(),M(r=>{let{left:n,right:o}=s(Bt.to.tagOrderWidget(t),xe(mt(Me.to.inputs)),ve(z),wr(i=>i.dataset.value===r));n.forEach(i=>{i.classList.remove("active"),i.classList.add("inactive")}),o.forEach(i=>{i.classList.remove("inactive"),i.classList.add("active")})}));var yr={};l(yr,{events:()=>Tl,views:()=>Sl});var Tl={};l(Tl,{animation:()=>qR,filter:()=>El,metadata:()=>Mc,observe:()=>HR,tags:()=>UR,template:()=>hi,transition:()=>Br,unmount:()=>CR});var HR=t=>e=>Br(t)(e).pipe(f(r=>[A.actions.update(N.actions.tween({value:r,speed:.03}))(u.to.identifier(t))])),Br=t=>e=>El(t)(e).pipe(R(Pt.eq.deep.equals),Et(tn.lib.toggle,0)),CR=t=>L(null).pipe(f(()=>[A.actions.update(N.actions.tween({value:.5,speed:.08,threshold:.01}))(u.to.identifier(t))])),El=t=>e=>e.pipe(f(r=>r.tagFilter),R(Pt.eq.deep.equals)),Mc=t=>e=>e.pipe(f(r=>s(r.tagMetadataRecord,le.to.list,X(Pt.lib.match,Il(r.tagFilter)))),R(so(or.eq.deep).equals)),hi=t=>e=>r=>Br(t)(e).pipe(Vt(El(t)(e)),Vt(Mc(t)(e)),f(([[n,o],i])=>(o.view==="grid"?xi.create:vi.create)({id:`transition-${n}`,tags:i})(r))),UR=t=>e=>r=>hi(t)(e)(r).pipe(R(),f(X(u.from.string,vt)),k(n=>n!==null),Vt(Br(t)(e).pipe(M(n=>{Array.from(t.querySelectorAll(`#transition-${n}`)).forEach(o=>{t.removeChild(o)})}))),M(([n])=>{t.appendChild(n)})),qR=t=>e=>A.selectors.lookup(u.to.identifier(t))(e).pipe(f(r=>Math.abs(r-.5)*2));var Sl={};l(Sl,{animate:()=>Ic,observe:()=>PR,tags:()=>_c});var PR=t=>e=>r=>q([_c(t)(e)(r),Ic(t)(e.pipe(f(n=>n.animations),R()))]).pipe(f(j(null))),_c=t=>e=>r=>hi(t)(e)(r).pipe(R(),f(X(u.from.string,vt)),k(n=>n!==null),Vt(Br(t)(e).pipe(M(n=>{Array.from(t.querySelectorAll(`#transition-${n}`)).forEach(o=>{t.removeChild(o)})}))),M(([n])=>{t.appendChild(n)})),Ic=t=>e=>A.selectors.lookup(u.to.identifier(t))(e).pipe(M(r=>{g.concat([s(s(g.concat([kt.to.animation(`transition-${0}`)(t),()=>kt.to.visible(`transition-${0}`)(t)]),H.behavior.after([0,()=>kt.to.hidden(`transition-${0}`)(t)])),g.reverse,g.between([0,.5])),s(s(g.concat([kt.to.animation(`transition-${1}`)(t),()=>kt.to.visible(`transition-${1}`)(t)]),H.behavior.after([0,()=>kt.to.hidden(`transition-${1}`)(t)])),g.between([.5,1]))])(r)}));var bi={};l(bi,{events:()=>jl});var jl={};l(jl,{navigate:()=>Lc,observe:()=>BR});var BR=t=>Lc(t),Lc=t=>at(t.document,"click").pipe(f(e=>s(Ro.from.event(e),mt(r=>r.href),ji(()=>It(e.preventDefault())),ji(r=>s(Nt(Qe.normalize(r).length>0))),ot(j(null),z))),k(e=>e!==null),R(),f(Wr.from.path),f(e=>[Le.actions.push(e),_t.actions.set("outro")]));var gi={};l(gi,{main:()=>NR});var NR=t=>E(...s(Go.from.window(t),y(e=>at(e,"click")))).pipe(M(()=>{t.navigator.clipboard.writeText(Qe.fromLocation(location))}));var Ai={};l(Ai,{events:()=>wl});var wl={};l(wl,{observe:()=>DR});var DR=t=>e=>t.pipe(M(r=>{pe.lib.put(r)(e)()}));var Wc=t=>e=>r=>n=>o=>q([gi.main(o),t.pipe(st(i=>q([q([Ai.events.observe(e)(o),yi.views.observe(e)(o),fr.views.observe(i.menu)(e),An.views.observe(i.menuTrigger)(e),lr.views.observe(i.breadcrumbs)(e),gn.views.observe(i.brightnessTrigger)(e),On.views.observe(e)(o),Fe.views.observe(i.cursor)(e),mr.views.observe(i.footer)(e),ur.views.observe(i.header)(e),cr.views.observe(i.title)(e),dr.views.observe(i.tagFilter)(e),yr.views.observe(i.tagList)(e)(o)]),E(bi.events.navigate(o),Fe.events.move(r)(o),On.events.observe(r)(o)).pipe(M(n[1])),_t.selectors.includes(["preload"])(e.pipe(f(a=>a.scene),R())).pipe(M(()=>{n[1]([_t.actions.set("intro")])})),_t.selectors.includes(["intro"])(e.pipe(f(a=>a.scene),R())).pipe(st(()=>E(fr.events.observe(i.menu)(e),An.events.observe(i.menuTrigger)(e),gn.events.observe(i.brightnessTrigger)(e),Fe.events.observe(i.cursor)(r)(o),rt(0).pipe(st(()=>ur.events.observe(i.header))),rt(50).pipe(st(()=>lr.events.observe(i.breadcrumbs))),rt(100).pipe(st(()=>cr.events.observe(i.title))),rt(200).pipe(st(()=>mr.events.observe(i.footer))),rt(200).pipe(st(()=>dr.events.observe(i.tagFilter))),rt(400).pipe(st(()=>yr.events.observe(i.tagList)(e)))).pipe(ze(_t.selectors.excludes(["intro"])(e.pipe(f(a=>a.scene),R()))))),M(n[1])),_t.selectors.includes(["main"])(e.pipe(f(a=>a.scene),R())),_t.selectors.includes(["outro"])(e.pipe(f(a=>a.scene),R())).pipe(st(()=>q([q([lr.events.animation(i.breadcrumbs)(e.pipe(f(a=>a.animations),R())),lr.events.unmount(i.breadcrumbs).pipe(M(n[1]))]).pipe(f(ue),Z(0)),q([fr.events.animation(i.menu)(e.pipe(f(a=>a.animations),R())),fr.events.unmount(i.menu).pipe(M(n[1]))]).pipe(f(ue),Z(0)),q([Fe.events.animation(i.cursor)(e.pipe(f(a=>a.animations),R())),Fe.events.unmount(i.cursor).pipe(M(n[1]))]).pipe(f(ue),Z(0)),q([mr.events.animation(i.footer)(e.pipe(f(a=>a.animations),R())),mr.events.unmount(i.footer).pipe(M(n[1]))]).pipe(f(ue),Z(0)),q([ur.events.animation(i.header)(e.pipe(f(a=>a.animations),R())),ur.events.unmount(i.header).pipe(M(n[1]))]).pipe(f(ue)),q([cr.events.animation(i.title)(e.pipe(f(a=>a.animations),R())),cr.events.unmount(i.title).pipe(M(n[1]))]).pipe(f(ue)),q([dr.events.animation(i.tagFilter)(e.pipe(f(a=>a.animations),R())),dr.events.unmount(i.tagFilter).pipe(M(n[1]))]).pipe(f(ue)),q([yr.events.animation(i.tagList)(e.pipe(f(a=>a.animations),R())),yr.events.unmount(i.tagList).pipe(M(n[1]))]).pipe(f(ue))]).pipe(ze(_t.selectors.excludes(["outro"])(e.pipe(f(a=>a.scene),R()))))),Vt(Le.selectors.location(e.pipe(f(a=>a.history),R()))),k(([a])=>a.every(p=>p===0)),M(([a,p])=>o.location.href=p.path))])))]);var Ml=t=>s(Jo.from.window(t),ot(()=>L(null),e=>{let r=Qr.from.io(),n=qi(0,Ci).pipe(Ke()),o=di.from.event(e)(n)(t)(r[0]);return Wc(L(e))(o)(n)(r)(t).pipe(f(j(null)))})).subscribe(()=>{}),Fc=t=>(mo.disable(t),s(pe.from.window(t),Gl(X(e=>V(e.brightness),ot(j(j(null)),e=>()=>{t.document.documentElement.classList.add(e)}))))());var VR=t=>{Fc(t),t.document.readyState==="loading"?t.document.addEventListener("DOMContentLoaded",()=>Ml(t)):Ml(t)};VR(window);})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
